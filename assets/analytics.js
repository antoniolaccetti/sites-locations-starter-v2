/*! For license information please see analytics.js.LICENSE.txt */
(()=>{var t={648:(t,e,r)=>{var n=r(814).default;function o(){"use strict";t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=C(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var v={};function y(){}function d(){}function p(){}var m={};l(m,s,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(S([])));k&&k!==r&&i.call(k,s)&&(m=k);var b=p.prototype=y.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,s,c){var u=h(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,c)}))}c(u.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function C(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=h(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,l(b,"constructor",p),l(p,"constructor",d),d.displayName=l(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},w(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),l(b,u,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),v}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},814:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},195:(t,e,r)=>{function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(648)();t.exports=o;try{regeneratorRuntime=o}catch(t){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var u=r(195),l=r.n(u),f="xYextDebug",h=function(){function t(){a(this,t)}return c(t,null,[{key:"hasQueryParam",value:function(){if("URL"in window&&"function"==typeof URL){var t=new URL(window.location.href).searchParams;return t&&"true"==t.get(f)}return!1}},{key:"enable",value:function(){document.documentElement.classList.add(f)}},{key:"disable",value:function(){document.documentElement.classList.remove(f)}},{key:"isEnabled",value:function(){var t=this.hasQueryParam();return t&&this.enable(),t}}]),t}();function v(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d={};function p(t,e){for(;t&&t.tagName&&!t.matches(e);)t=t.parentNode;return t&&t.tagName&&t.matches(e)?t:null}function m(t){var e=null,r=null,n=null;for(var i in d)t.matches(i)&&(r=d[i]);if(!r){var a=p(t,"[data-ya-track]");a&&(n=a,r=a.dataset?a.dataset.yaTrack:a.getAttribute("data-ya-track"))}var s=p(t,"[data-ya-prevent-default]");if(!s&&!r){var c=p(t,"a");if(c){n=c;var u=function(t){if(t&&t.href){var e=(r=t.href,n={},o=r.split("?"),2==o.length&&o[1].split("&").forEach((function(t){var e=t.split("=");n[e[0]]=e[1]})),n)["ya-track"];if(e)return e}var r,n,o;return!1}(c);u&&(r=u),u||r||(e="link")}}if(!s&&!r&&!e){var l=p(t,"button");l&&(n=l,e="button")}if(!s&&!r&&!e){var f=p(t,"input");f&&"hidden"!=f.type&&(n=f,e="input")}var y=e||r;if(y){for(var m=[];t&&t.tagName;)t.matches("[data-ya-scope]")&&m.push(t),t=t.parentNode;var g,k=[n].concat(m),b=v(k.entries());try{for(b.s();!(g=b.n()).done;){var w=o(g.value,2),_=w[0],C=w[1],E=0==_?y:C.dataset?C.dataset.yaScope:C.getAttribute("data-ya-scope");if(E.indexOf("#")>-1){var x,O=0==_?"data-ya-track":"data-ya-scope",S=_+1<k.length?k[_+1]:document,A=v(Array.from(S.querySelectorAll("[".concat(O,"='").concat(E,"']"))).entries());try{for(A.s();!(x=A.n()).done;){var T=o(x.value,2),N=T[0];if(C==T[1]){E=E.replace("#",N+1);break}}}catch(t){A.e(t)}finally{A.f()}}k[_]=E}}catch(t){b.e(t)}finally{b.f()}return k.reverse().join("_")}h.isEnabled()&&console.warn("No ya-track attribute found for",t)}var g="realtimeanalytics.yext.com";new(function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;a(this,e);var o=r.YextAnalyticsObject||"ya";this._eventNameCalculator=n,this.win=r,this.dom=r.document,this.set({pageurl:r.location.pathname,pagesReferrer:r.document.referrer}),this.registeredListeners={},this.StandardEvents={WebsiteClick:"website",DrivingDirections:"directions",MobileCall:"phone",CTAClick:"cta"},this.delayNavigation=!0,this.conversionTrackingEnabled=!1,this.CONSTANTS={COOKIE_PARAM:"_yfpc",COOKIE_REMOVAL_VALUE:"__temp__"},this.listingsClickFired=!1;var s=this._getQueryParams();if(this.y_source=s.y_source,"y_source"in s){delete s.y_source;var c=this._buildQueryString(s);window.history.replaceState(window.history.state,document.title,window.location.pathname+(c?"?"+c:""))}onReady((function(){if(t.registerObserver("click"),r[o])for(var e=r[o].q||[];e.length;){var n=e.shift();t.processCommand.apply(t,i(n))}r[o]=function(){return t.processCommand.apply(t,arguments)}}))}var r,n;return c(e,[{key:"setCalcEventName",value:function(t){this._eventNameCalculator=t}},{key:"CalcEventNameForElement",value:function(t){return this._eventNameCalculator(t)}},{key:"loaded",value:function(){return void 0!==this.siteData.siteId&&void 0!==this.siteData.businessids}},{key:"create",value:function(t,e,r){return this.set({businessids:t,siteId:e,isStaging:r}),!0}},{key:"set",value:function(t){this.siteData=Object.assign(this.siteData||{},t)}},{key:"setDelayNavigation",value:function(t){this.delayNavigation=t}},{key:"setConversionTrackingEnabled",value:function(t){this.conversionTrackingEnabled=t&&!this.doNotTrackEnabled(),this._fireListingsTagIfShould()}},{key:"pageview",value:function(){this.send({eventType:"pageview"})}},{key:"click",value:function(t){this.registerObserverForSelector("click",t.selector,t.name)}},{key:"trackEvent",value:function(t,e){this.send({eventType:t},e)}},{key:"generateRandomCookie_",value:function(){return Math.floor(Math.random()*(new Date).getTime())}},{key:"fetchCookie_",value:function(){var t=this,e="",r=function(r){if(t.canSetCookieWithDomain_(r)){var n=t.removeCookieByDomain_(r);return n&&(e=n,t.setCookie_(e,r)),!0}};return this.forEachDomainIncreasingSpecificity_(r),e||r(""),e}},{key:"setCookie_",value:function(t,e){var r=this.formatCookie_(this.CONSTANTS.COOKIE_PARAM,t,e);this.win.document.cookie=r}},{key:"formatCookie_",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",o=t+"="+e,i=new Date;return i.setTime(i.getTime()+7776e6),o+=";path="+n,o+=";expires="+i.toUTCString(),r&&(o+=";domain="+r),o+=";samesite=None;","https:"===this.win.location.protocol&&(o+=" Secure "),o}},{key:"canSetCookieWithDomain_",value:function(t){var e=this.removeCookieByDomain_(t),r=this.allCookies_();this.setCookie_(this.CONSTANTS.COOKIE_REMOVAL_VALUE,t);var n=this.allCookies_();return r.length<n.length&&(e?this.setCookie_(e,t):this.clearCookie_(t),!0)}},{key:"clearCookie_",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=this.CONSTANTS.COOKIE_PARAM,n=new Date(0),o=r+"="+this.CONSTANTS.COOKIE_REMOVAL_VALUE;o+=";path="+e,o+=";expires="+n.toUTCString(),t&&(o+=";domain="+t+";"),o+=";samesite=None;","https:"===this.win.location.protocol&&(o+=" Secure "),this.dom.cookie=o}},{key:"removeCookieByDomain_",value:function(t){var e=this.persistentCookies_();this.clearCookie_(t);var r=this.persistentCookies_();return r.length<e.length&&this.listDifference_(e,r)[0]||""}},{key:"listDifference_",value:function(t,e){for(var r=Array.from(t),n=0;n<e.length;n++){var o=r.indexOf(e[n]);-1!==o&&r.splice(o,1)}return r}},{key:"persistentCookies_",value:function(){var t=this;return this.allCookies_().filter((function(e){return e!==t.CONSTANTS.COOKIE_REMOVAL_VALUE}))}},{key:"allCookies_",value:function(){var t=this.CONSTANTS.COOKIE_PARAM,e=[];return this.forEachCookieNameValue_((function(r,n){r===t&&e.push(n)})),e}},{key:"forEachCookieNameValue_",value:function(t){this.win.document.cookie.split(";").forEach((function(e){var r=e.split("="),n=r[0],o=r[1];n&&o&&t(n.trim(),o.trim())}))}},{key:"forEachDomainIncreasingSpecificity_",value:function(t){for(var e=!1,r=this.win.location.hostname.split(".").reverse(),n="",o=0;o<r.length;o++)if(t(n="."+r[o]+n)){e=!0;break}e||t("")}},{key:"setCookieAndRemoveOldCookies_",value:function(t){var e=this,r=!1,n=this.allCookies_().length,o=0;this.forEachDomainIncreasingSpecificity_((function(i){if(r?e.removeCookieByDomain_(i)&&o++:e.canSetCookieWithDomain_(i)&&(e.removeCookieByDomain_(i)&&o++,e.setCookie_(t,i),r=!0),o>=n&&r)return!0}))}},{key:"_fireListingsTagIfShould",value:function(){if(!this.listingsClickFired&&this.conversionTrackingEnabled&&this.y_source){var t=this.fetchCookie_();t||(t=this.generateRandomCookie_().toString()),this.setCookieAndRemoveOldCookies_(t);var e,r,n,o=(e={y_source:this.y_source,referrer:document.referrer,location:window.location.href},n=t,(r=this.CONSTANTS.COOKIE_PARAM)in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e),i=this._getTrackerUrl(g,"listings",o);this.fire(i),this.listingsClickFired=!0}}},{key:"_buildQueryString",value:function(t){return Object.entries(t).filter((function(t){return o(t,1)[0]})).map((function(t){var e=o(t,2),r=e[0],n=e[1];return(Array.isArray(n)?n:[n]).map((function(t){return r+"="+encodeURIComponent(void 0===t?"":t)})).join("&")})).join("&")}},{key:"_getTrackerUrl",value:function(t,e,r){var n=this._buildQueryString(r);return"https://".concat(t,"/").concat(e,"?").concat(n)}},{key:"_getQueryParams",value:function(){return window.location.search.substring(1).split("&").map((function(t){return t.split("=")})).reduce((function(t,e){var r=o(e,2),n=r[0],i=r[1],a=i&&decodeURIComponent(i);return n in t?Array.isArray(t[n])?t[n].push(a):t[n]=[t[n],a]:t[n]=a,t}),{})}},{key:"once",value:function(t){if(t){var e=!1;return function(){e||(e=!0,t())}}}},{key:"send",value:function(t,e){this.fire(this.pixelURL(t),e)}},{key:"registerObserverForSelector",value:function(t,e,r){this.registerObserver(t),d[e]=r}},{key:"registerObserver",value:function(t){this.registeredListeners.hasOwnProperty(t)||(this.dom.body.addEventListener(t,this.handleEvent.bind(this)),this.registeredListeners[t]=!0)}},{key:"unRegisterObserver",value:function(t,e,r){d.hasOwnProperty(e)&&delete d[e]}},{key:"processCommand",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(0===arguments.length)throw"Received Analytics Command with no Arguments";if("function"==typeof this[t])return this[t].apply(this,r);throw"Unknown command ".concat(t)}},{key:"pixelURL",value:function(t){var e,r=Object.assign({product:"sites",v:this.seed()},this.siteData,t);if(this.conversionTrackingEnabled){var n=this.fetchCookie_();n||(n=this.generateRandomCookie_().toString()),this.setCookieAndRemoveOldCookies_(n),r[this.CONSTANTS.COOKIE_PARAM]=n}t.eventType&&(e=t.eventType,h.isEnabled()&&console.log("%c[YextAnalytics]%c- Fired event: ".concat(e),"background: white; color: blue;",""));var o=this.conversionTrackingEnabled?g:"www.yext-pixel.com";return this._getTrackerUrl(o,"store_pagespixel",r)}},{key:"getConversionParams",value:function(t){for(var e=t;null!==e;e=e.parentNode)if(e.dataset&&e.dataset.yaCid)return{cid:e.dataset.yaCid}}},{key:"conversionURL",value:function(t){return this._getTrackerUrl(g,"conversiontracking/conversion",t)}},{key:"seed",value:function(){return Date.now()+Math.floor(1e3*Math.random())}},{key:"fire",value:function(t,e){if(!this.loaded())throw new Error("Attempted to observe fire ".concat(t," on ").concat(event.type," before initializing Yext.Analytics.SiteData"));var r=this.dom.createElement("img");if(r.src=t,r.style.width="0",r.style.height="0",r.style.position="absolute",r.alt="",e){var n=this.once(e);r.onload=n,r.onerror=n,setTimeout(n,1e3)}this.dom.body.appendChild(r)}},{key:"fireWithEvent",value:function(t,e){var r=this;this.delayNavigation?function(t,e){if(e){for(var r=e.srcElement||e.target;r&&(void 0===r.tagName||"a"!=r.tagName.toLowerCase()||!r.href);)r=r.parentNode;var n=!1,o=3===e.which;if(r&&r.href&&"true"!==r.dataset.yaNoWait&&!o&&!e.defaultPrevented){var i=r.href;if(-1==i.indexOf(location.host)&&"mailto:"!=r.protocol&&"tel:"!=r.protocol&&"javascript:"!=r.protocol){var a=!(!r.target||r.target.match(/^_(self|parent|top)$/i))&&r.target;if((e.ctrlKey||e.shiftKey||e.metaKey||2==e.which)&&(a="_blank"),!a){n=!0;var s=!1;e.preventDefault?e.preventDefault():e.returnValue=!1,t((function(){s||(s=!0,window.location.href=i)}))}}}n||t()}else t()}((function(e){return r.fire(t,e)}),e):this.fire(t)}},{key:"handleConversion",value:function(t){var e=this;return new Promise((function(r,n){var o=e.getConversionParams(t.target);if(!o)return r();Object.assign(o,{v:Date.now()+Math.floor(1e3*Math.random())});var i=e.conversionURL(o);e.fire(i,r)}))}},{key:"handleEvent",value:(r=l().mark((function t(e){var r,n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=l().keys(d);case 1:if((t.t1=t.t0()).done){t.next=9;break}if(r=t.t1.value,!d.hasOwnProperty(r)){t.next=7;break}if(!p(e.target,r)){t.next=7;break}return this.fireWithEvent(this.pixelURL({eventType:d[r]}),e),t.abrupt("return");case 7:t.next=1;break;case 9:if(n=this.CalcEventNameForElement(e.target)){t.next=12;break}return t.abrupt("return");case 12:if(!this.conversionTrackingEnabled){t.next=15;break}return t.next=15,this.handleConversion(e);case 15:this.fireWithEvent(this.pixelURL({eventType:n}),e);case 16:case"end":return t.stop()}}),t,this)})),n=function(){var e=this,n=arguments;return new Promise((function(o,i){var a=r.apply(e,n);function s(e){t(a,o,i,s,c,"next",e)}function c(e){t(a,o,i,s,c,"throw",e)}s(void 0)}))},function(t){return n.apply(this,arguments)})},{key:"doNotTrackEnabled",value:function(){return"1"==this.win.doNotTrack||"yes"==this.win.navigator.doNotTrack||"1"==this.win.navigator.doNotTrack||"1"==this.win.navigator.msDoNotTrack}}]),e}())})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3JlZ2VuZXJhdG9yUnVudGltZS5qcyIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vc2l0ZXMtbG9jYXRpb25zLXN0YXJ0ZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIiwid2VicGFjazovL3NpdGVzLWxvY2F0aW9ucy1zdGFydGVyLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5TGlrZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vc2l0ZXMtbG9jYXRpb25zLXN0YXJ0ZXIvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vc2l0ZXMtbG9jYXRpb25zLXN0YXJ0ZXIvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhIb2xlcy5qcyIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVJlc3QuanMiLCJ3ZWJwYWNrOi8vc2l0ZXMtbG9jYXRpb25zLXN0YXJ0ZXIvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vc2l0ZXMtbG9jYXRpb25zLXN0YXJ0ZXIvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRob3V0SG9sZXMuanMiLCJ3ZWJwYWNrOi8vc2l0ZXMtbG9jYXRpb25zLXN0YXJ0ZXIvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL3NpdGVzLWxvY2F0aW9ucy1zdGFydGVyLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL3NpdGVzLWxvY2F0aW9ucy1zdGFydGVyLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL3NpdGVzLWxvY2F0aW9ucy1zdGFydGVyLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL3NpdGVzLWxvY2F0aW9ucy1zdGFydGVyLy4vc3JjL2FuYWx5dGljcy9EZWJ1Zy5qcyIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL3NyYy9hbmFseXRpY3MvSGVscGVycy5qcyIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL3NyYy9hbmFseXRpY3MvQW5hbHl0aWNzLmpzIiwid2VicGFjazovL3NpdGVzLWxvY2F0aW9ucy1zdGFydGVyLy4vc3JjL2FuYWx5dGljcy5qcyIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9zaXRlcy1sb2NhdGlvbnMtc3RhcnRlci8uL3NyYy9hbmFseXRpY3MvRGVsYXlOYXZpZ2F0aW9uLmpzIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJyZXF1aXJlIiwiX3JlZ2VuZXJhdG9yUnVudGltZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiT3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd24iLCJoYXNPd25Qcm9wZXJ0eSIsIiRTeW1ib2wiLCJTeW1ib2wiLCJpdGVyYXRvclN5bWJvbCIsIml0ZXJhdG9yIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsInRvU3RyaW5nVGFnIiwiZGVmaW5lIiwib2JqIiwia2V5IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImVyciIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInNlbGYiLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY3JlYXRlIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwic3RhdGUiLCJtZXRob2QiLCJhcmciLCJFcnJvciIsInVuZGVmaW5lZCIsImRvbmUiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsIkNvbnRpbnVlU2VudGluZWwiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsInJlY29yZCIsInRyeUNhdGNoIiwidHlwZSIsImZuIiwiY2FsbCIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJJdGVyYXRvclByb3RvdHlwZSIsInRoaXMiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJ2YWx1ZXMiLCJHcCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsImZvckVhY2giLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJpbnZva2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0IiwiX19hd2FpdCIsInRoZW4iLCJ1bndyYXBwZWQiLCJlcnJvciIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiVHlwZUVycm9yIiwiaW5mbyIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXRlcmFibGUiLCJpdGVyYXRvck1ldGhvZCIsImlzTmFOIiwibGVuZ3RoIiwiaSIsImRvbmVSZXN1bHQiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJpdGVyIiwia2V5cyIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicnVudGltZSIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZ2V0IiwicHJvcCIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsIl9uZXh0IiwiX3Rocm93IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJtaW5MZW4iLCJhcnJheUxpa2VUb0FycmF5IiwidG9TdHJpbmciLCJmcm9tIiwidGVzdCIsIl9zbGljZWRUb0FycmF5IiwiaXNBcnJheSIsImFycmF5V2l0aEhvbGVzIiwiX2kiLCJfcyIsIl9lIiwiX2FyciIsIl9uIiwiX2QiLCJpdGVyYWJsZVRvQXJyYXlMaW1pdCIsInVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVSZXN0IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyYWJsZVRvQXJyYXkiLCJub25JdGVyYWJsZVNwcmVhZCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInBhcmFtIiwiRGVidWciLCJ3aW5kb3ciLCJVUkwiLCJwYXJhbXMiLCJsb2NhdGlvbiIsImhyZWYiLCJzZWFyY2hQYXJhbXMiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImVuYWJsZWQiLCJoYXNRdWVyeVBhcmFtIiwiZW5hYmxlIiwiU2VsZWN0b3JUcmFja2luZyIsIlNlYXJjaEVsZW1lbnRGb3JTZWxlY3RvciIsImVsIiwicyIsInRhZ05hbWUiLCJtYXRjaGVzIiwicGFyZW50Tm9kZSIsIkNhbGNFdmVudE5hbWVGb3JFbGVtZW50IiwiZWxlbWVudCIsInRyYWNrRGV0YWlscyIsInNyY0VsIiwic2VsZWN0b3IiLCJwb3RlbnRpYWxZYVRyYWNrZWRFbCIsImRhdGFzZXQiLCJ5YVRyYWNrIiwiZ2V0QXR0cmlidXRlIiwicHJldmVudERlZmF1bHRFdmVudCIsImFuY2hvciIsImFuY2hvclF1ZXJ5IiwiZU5hbWUiLCJ1cmwiLCJxdWVyaWVzIiwicGFydHMiLCJzcGxpdCIsInBhaXIiLCJDaGVja0FuY2hvclF1ZXJpZXMiLCJidXR0b24iLCJpbnB1dCIsImRhdGFZYVRyYWNrIiwic2NvcGVBbmNlc3RvcnMiLCJ0YWdzIiwiY29uY2F0IiwiZW50cmllcyIsImhpZXJhcmNoeUlkeCIsImhpZXJhcmNoeUVsZW1lbnQiLCJ0YWdWYWwiLCJ5YVNjb3BlIiwiaW5kZXhPZiIsImF0dHJpYnV0ZU5hbWUiLCJhbmNlc3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzaWJsaW5nSWR4IiwicmVwbGFjZSIsImpvaW4iLCJpc0VuYWJsZWQiLCJjb25zb2xlIiwid2FybiIsImNvbnZlcnNpb25Eb21haW4iLCJ3aW4iLCJldmVudE5hbWVDYWxjdWxhdG9yIiwiYW5hbHl0aWNzUU5hbWUiLCJZZXh0QW5hbHl0aWNzT2JqZWN0IiwiX2V2ZW50TmFtZUNhbGN1bGF0b3IiLCJkb20iLCJzZXQiLCJwYWdldXJsIiwicGF0aG5hbWUiLCJwYWdlc1JlZmVycmVyIiwicmVmZXJyZXIiLCJyZWdpc3RlcmVkTGlzdGVuZXJzIiwiU3RhbmRhcmRFdmVudHMiLCJXZWJzaXRlQ2xpY2siLCJEcml2aW5nRGlyZWN0aW9ucyIsIk1vYmlsZUNhbGwiLCJDVEFDbGljayIsImRlbGF5TmF2aWdhdGlvbiIsImNvbnZlcnNpb25UcmFja2luZ0VuYWJsZWQiLCJDT05TVEFOVFMiLCJDT09LSUVfUEFSQU0iLCJDT09LSUVfUkVNT1ZBTF9WQUxVRSIsImxpc3RpbmdzQ2xpY2tGaXJlZCIsInF1ZXJ5UGFyYW1zIiwiX2dldFF1ZXJ5UGFyYW1zIiwieV9zb3VyY2UiLCJxdWVyeVN0cmluZyIsIl9idWlsZFF1ZXJ5U3RyaW5nIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInRpdGxlIiwib25SZWFkeSIsInJlZ2lzdGVyT2JzZXJ2ZXIiLCJjcSIsInEiLCJjb21tYW5kQXJncyIsInNoaWZ0IiwicHJvY2Vzc0NvbW1hbmQiLCJjYWxjdWxhdG9yIiwic2l0ZURhdGEiLCJzaXRlSWQiLCJidXNpbmVzc2lkcyIsImJ1c0lkIiwic2l0ZSIsInN0YWdpbmciLCJpc1N0YWdpbmciLCJkYXRhIiwiYXNzaWduIiwiYm9vbCIsImRvTm90VHJhY2tFbmFibGVkIiwiX2ZpcmVMaXN0aW5nc1RhZ0lmU2hvdWxkIiwic2VuZCIsImV2ZW50VHlwZSIsIm9wdHMiLCJyZWdpc3Rlck9ic2VydmVyRm9yU2VsZWN0b3IiLCJldmVudE5hbWUiLCJjYiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIkRhdGUiLCJnZXRUaW1lIiwiY29va2llVmFsdWUiLCJjaGVja0RvbWFpbiIsImRvbWFpbiIsImNhblNldENvb2tpZVdpdGhEb21haW5fIiwicmVtb3ZlZFZhbHVlIiwicmVtb3ZlQ29va2llQnlEb21haW5fIiwic2V0Q29va2llXyIsImZvckVhY2hEb21haW5JbmNyZWFzaW5nU3BlY2lmaWNpdHlfIiwiY29va2llRG9tYWluIiwiY29va2llU3RyaW5nIiwiZm9ybWF0Q29va2llXyIsImNvb2tpZSIsImNvb2tpZU5hbWUiLCJwYXRoIiwibm93Iiwic2V0VGltZSIsInRvVVRDU3RyaW5nIiwicHJvdG9jb2wiLCJsb3N0Q29va2llIiwiZXhpc3RpbmdDb29raWVzIiwiYWxsQ29va2llc18iLCJuZXdDb29raWVzIiwiY2xlYXJDb29raWVfIiwiY29va2llUGF0aCIsImVwb2NoIiwicHJldlJlbWFpbmluZ0Nvb2tpZXMiLCJwZXJzaXN0ZW50Q29va2llc18iLCJyZW1haW5pbmdDb29raWVzIiwibGlzdERpZmZlcmVuY2VfIiwic3VwZXJsaXN0Iiwic3VibGlzdCIsInN1cGVybGlzdENvcHkiLCJpbmRleCIsInNwbGljZSIsImZpbHRlciIsInZhbCIsImZvckVhY2hDb29raWVOYW1lVmFsdWVfIiwibmFtZVZhbHVlRnVuYyIsImtleVZhbHVlIiwidHJpbSIsImZ1bmMiLCJleGl0ZWRMb29wIiwiZG9tYWluUGFydHMiLCJob3N0bmFtZSIsImN1cnJEb21haW4iLCJyb290RG9tYWluUmVhY2hlZCIsInRvdGFsQ29va2llcyIsIm51bUNvb2tpZXNFbmNvdW50ZXJlZCIsImZldGNoQ29va2llXyIsImdlbmVyYXRlUmFuZG9tQ29va2llXyIsInNldENvb2tpZUFuZFJlbW92ZU9sZENvb2tpZXNfIiwiX2dldFRyYWNrZXJVcmwiLCJmaXJlIiwibWFwIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZW5kcG9pbnQiLCJzZWFyY2giLCJzdWJzdHJpbmciLCJyZWR1Y2UiLCJkZWNvZGVkVmFsIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwidGFzayIsImludm9rZWQiLCJwaXhlbFVSTCIsImJvZHkiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlRXZlbnQiLCJiaW5kIiwiY29tbWFuZCIsImFyZ3MiLCJhcmd1bWVudHMiLCJvcHRpb25hbERhdGEiLCJjb21iaW5lZERhdGEiLCJwcm9kdWN0IiwidiIsInNlZWQiLCJsb2ciLCJhbmFseXRpY3NEb21haW4iLCJjdXJyZW50IiwieWFDaWQiLCJjaWQiLCJwaXhlbCIsImxvYWRlZCIsImV2ZW50IiwicHgiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwiYWx0Iiwib25jZUNCIiwib25jZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzZXRUaW1lb3V0IiwiYXBwZW5kQ2hpbGQiLCJhY3Rpb24iLCJzcmNFbGVtZW50IiwidG9Mb3dlckNhc2UiLCJ3aWxsRmlyZSIsInJpZ2h0Q2xpY2siLCJ3aGljaCIsInlhTm9XYWl0IiwiZGVmYXVsdFByZXZlbnRlZCIsImxpbmsiLCJob3N0IiwibWF0Y2giLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJtZXRhS2V5IiwiaGJydW4iLCJwcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwiTmF2aWdhdGVBZnRlckFjdGlvbklmTmVlZGVkIiwiZ2V0Q29udmVyc2lvblBhcmFtcyIsImNvbnZlcnNpb25VUkwiLCJmaXJlV2l0aEV2ZW50IiwiaGFuZGxlQ29udmVyc2lvbiIsImFwcGx5IiwiZG9Ob3RUcmFjayIsIm5hdmlnYXRvciIsIm1zRG9Ob3RUcmFjayJdLCJtYXBwaW5ncyI6IjsyQkFBQSxJQUFJQSxFQUFVQyxlQUVkLFNBQVNDLElBQ1AsYUFHQUMsRUFBT0MsUUFBVUYsRUFBc0IsV0FDckMsT0FBT0UsR0FDTkQsRUFBT0MsUUFBUUMsWUFBYSxFQUFNRixFQUFPQyxRQUFQRCxRQUE0QkEsRUFBT0MsUUFDeEUsSUFBSUEsRUFBVSxHQUNWRSxFQUFLQyxPQUFPQyxVQUNaQyxFQUFTSCxFQUFHSSxlQUNaQyxFQUFVLG1CQUFxQkMsT0FBU0EsT0FBUyxHQUNqREMsRUFBaUJGLEVBQVFHLFVBQVksYUFDckNDLEVBQXNCSixFQUFRSyxlQUFpQixrQkFDL0NDLEVBQW9CTixFQUFRTyxhQUFlLGdCQUUvQyxT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QWM3WCxLQUFLc1UsU0FBUyxDQUFFekUsVUFBV0csSUFBYzBGLEdBakI5RCxnRCxFZjltQk8sV0FDTCxJQUFJelgsRUFBTytCLEtBQ1A0VSxFQUFPQyxVQUNYLE9BQU8sSUFBSXZSLFNBQVEsU0FBVTNDLEVBQVNDLEdBQ3BDLElBQUlxRixFQUFNdEcsRUFBR29ZLE1BQU05WixFQUFNMlcsR0FFekIsU0FBUzFPLEVBQU0xSSxHQUNid0ksRUFBbUJDLEVBQUt0RixFQUFTQyxFQUFRc0YsRUFBT0MsRUFBUSxPQUFRM0ksR0FHbEUsU0FBUzJJLEVBQU90SSxHQUNkbUksRUFBbUJDLEVBQUt0RixFQUFTQyxFQUFRc0YsRUFBT0MsRUFBUSxRQUFTdEksR0FHbkVxSSxPQUFNcEgsTyw2RWVvbkJWLFdBQ0UsTUFBOEIsS0FBdkJrQixLQUFLeU0sSUFBSXVMLFlBQ3NCLE9BQWpDaFksS0FBS3lNLElBQUl3TCxVQUFVRCxZQUNjLEtBQWpDaFksS0FBS3lNLElBQUl3TCxVQUFVRCxZQUNnQixLQUFuQ2hZLEtBQUt5TSxJQUFJd0wsVUFBVUMsaUIiLCJmaWxlIjoiYW5hbHl0aWNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF90eXBlb2YgPSByZXF1aXJlKFwiLi90eXBlb2YuanNcIilbXCJkZWZhdWx0XCJdO1xuXG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqL1xuXG4gIG1vZHVsZS5leHBvcnRzID0gX3JlZ2VuZXJhdG9yUnVudGltZSA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7XG4gICAgcmV0dXJuIGV4cG9ydHM7XG4gIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcbiAgdmFyIGV4cG9ydHMgPSB7fSxcbiAgICAgIE9wID0gT2JqZWN0LnByb3RvdHlwZSxcbiAgICAgIGhhc093biA9IE9wLmhhc093blByb3BlcnR5LFxuICAgICAgJFN5bWJvbCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sXG4gICAgICBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsXG4gICAgICBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCIsXG4gICAgICB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgIHdyaXRhYmxlOiAhMFxuICAgIH0pLCBvYmpba2V5XTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcixcbiAgICAgICAgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpLFxuICAgICAgICBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuICAgIHJldHVybiBnZW5lcmF0b3IuX2ludm9rZSA9IGZ1bmN0aW9uIChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgICB2YXIgc3RhdGUgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKG1ldGhvZCwgYXJnKSB7XG4gICAgICAgIGlmIChcImV4ZWN1dGluZ1wiID09PSBzdGF0ZSkgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcblxuICAgICAgICBpZiAoXCJjb21wbGV0ZWRcIiA9PT0gc3RhdGUpIHtcbiAgICAgICAgICBpZiAoXCJ0aHJvd1wiID09PSBtZXRob2QpIHRocm93IGFyZztcbiAgICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZCwgY29udGV4dC5hcmcgPSBhcmc7Oykge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG5cbiAgICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcIm5leHRcIiA9PT0gY29udGV4dC5tZXRob2QpIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztlbHNlIGlmIChcInRocm93XCIgPT09IGNvbnRleHQubWV0aG9kKSB7XG4gICAgICAgICAgICBpZiAoXCJzdXNwZW5kZWRTdGFydFwiID09PSBzdGF0ZSkgdGhyb3cgc3RhdGUgPSBcImNvbXBsZXRlZFwiLCBjb250ZXh0LmFyZztcbiAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuICAgICAgICAgIH0gZWxzZSBcInJldHVyblwiID09PSBjb250ZXh0Lm1ldGhvZCAmJiBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgICAgc3RhdGUgPSBcImV4ZWN1dGluZ1wiO1xuICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChcIm5vcm1hbFwiID09PSByZWNvcmQudHlwZSkge1xuICAgICAgICAgICAgaWYgKHN0YXRlID0gY29udGV4dC5kb25lID8gXCJjb21wbGV0ZWRcIiA6IFwic3VzcGVuZGVkWWllbGRcIiwgcmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUgJiYgKHN0YXRlID0gXCJjb21wbGV0ZWRcIiwgY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfShpbm5lckZuLCBzZWxmLCBjb250ZXh0KSwgZ2VuZXJhdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwibm9ybWFsXCIsXG4gICAgICAgIGFyZzogZm4uY2FsbChvYmosIGFyZylcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInRocm93XCIsXG4gICAgICAgIGFyZzogZXJyXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cblxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiYgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkgJiYgKEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUpO1xuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24gKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuXG4gICAgICBpZiAoXCJ0aHJvd1wiICE9PSByZWNvcmQudHlwZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgXCJvYmplY3RcIiA9PSBfdHlwZW9mKHZhbHVlKSAmJiBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpID8gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pIDogUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAodW53cmFwcGVkKSB7XG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkLCByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgdGhpcy5faW52b2tlID0gZnVuY3Rpb24gKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9IHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcblxuICAgIGlmICh1bmRlZmluZWQgPT09IG1ldGhvZCkge1xuICAgICAgaWYgKGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBcInRocm93XCIgPT09IGNvbnRleHQubWV0aG9kKSB7XG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSAmJiAoY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCksIFwidGhyb3dcIiA9PT0gY29udGV4dC5tZXRob2QpKSByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG4gICAgaWYgKFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUpIHJldHVybiBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIiwgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbDtcbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG4gICAgcmV0dXJuIGluZm8gPyBpbmZvLmRvbmUgPyAoY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWUsIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IGNvbnRleHQubWV0aG9kICYmIChjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCksIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsKSA6IGluZm8gOiAoY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbCk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHtcbiAgICAgIHRyeUxvYzogbG9jc1swXVxuICAgIH07XG4gICAgMSBpbiBsb2NzICYmIChlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV0pLCAyIGluIGxvY3MgJiYgKGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdLCBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiLCBkZWxldGUgcmVjb3JkLmFyZywgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbe1xuICAgICAgdHJ5TG9jOiBcInJvb3RcIlxuICAgIH1dLCB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGl0ZXJhYmxlLm5leHQpIHJldHVybiBpdGVyYWJsZTtcblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsXG4gICAgICAgICAgICBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICBmb3IgKDsgKytpIDwgaXRlcmFibGUubGVuZ3RoOykge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkgcmV0dXJuIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXSwgbmV4dC5kb25lID0gITEsIG5leHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG5leHQudmFsdWUgPSB1bmRlZmluZWQsIG5leHQuZG9uZSA9ICEwLCBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBuZXh0OiBkb25lUmVzdWx0XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICBkb25lOiAhMFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZShHcCwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSksIGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbiksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBnZW5GdW4gJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiAhIWN0b3IgJiYgKGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiA9PT0gKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSk7XG4gIH0sIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCksIGdlbkZ1bjtcbiAgfSwgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX19hd2FpdDogYXJnXG4gICAgfTtcbiAgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pLCBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yLCBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIHZvaWQgMCA9PT0gUHJvbWlzZUltcGwgJiYgKFByb21pc2VJbXBsID0gUHJvbWlzZSk7XG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSwgUHJvbWlzZUltcGwpO1xuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICB9KTtcbiAgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKSwgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIiksIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSksIGRlZmluZShHcCwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH0pLCBleHBvcnRzLmtleXMgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzLnJldmVyc2UoKSwgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIGZvciAoOyBrZXlzLmxlbmd0aDspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSByZXR1cm4gbmV4dC52YWx1ZSA9IGtleSwgbmV4dC5kb25lID0gITEsIG5leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXh0LmRvbmUgPSAhMCwgbmV4dDtcbiAgICB9O1xuICB9LCBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkLCB0aGlzLmRvbmUgPSAhMSwgdGhpcy5kZWxlZ2F0ZSA9IG51bGwsIHRoaXMubWV0aG9kID0gXCJuZXh0XCIsIHRoaXMuYXJnID0gdW5kZWZpbmVkLCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIXNraXBUZW1wUmVzZXQpIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICBcInRcIiA9PT0gbmFtZS5jaGFyQXQoMCkgJiYgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiYgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSAmJiAodGhpc1tuYW1lXSA9IHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdGhpcy5kb25lID0gITA7XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO1xuICAgICAgaWYgKFwidGhyb3dcIiA9PT0gcm9vdFJlY29yZC50eXBlKSB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB0aHJvdyBleGNlcHRpb247XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZXR1cm4gcmVjb3JkLnR5cGUgPSBcInRocm93XCIsIHJlY29yZC5hcmcgPSBleGNlcHRpb24sIGNvbnRleHQubmV4dCA9IGxvYywgY2F1Z2h0ICYmIChjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCksICEhY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXSxcbiAgICAgICAgICAgIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgIGlmIChcInJvb3RcIiA9PT0gZW50cnkudHJ5TG9jKSByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIiksXG4gICAgICAgICAgICAgIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgITApO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzRmluYWxseSkgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZpbmFsbHlFbnRyeSAmJiAoXCJicmVha1wiID09PSB0eXBlIHx8IFwiY29udGludWVcIiA9PT0gdHlwZSkgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jICYmIChmaW5hbGx5RW50cnkgPSBudWxsKTtcbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmV0dXJuIHJlY29yZC50eXBlID0gdHlwZSwgcmVjb3JkLmFyZyA9IGFyZywgZmluYWxseUVudHJ5ID8gKHRoaXMubWV0aG9kID0gXCJuZXh0XCIsIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jLCBDb250aW51ZVNlbnRpbmVsKSA6IHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAoXCJ0aHJvd1wiID09PSByZWNvcmQudHlwZSkgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIHJldHVybiBcImJyZWFrXCIgPT09IHJlY29yZC50eXBlIHx8IFwiY29udGludWVcIiA9PT0gcmVjb3JkLnR5cGUgPyB0aGlzLm5leHQgPSByZWNvcmQuYXJnIDogXCJyZXR1cm5cIiA9PT0gcmVjb3JkLnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnLCB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCIsIHRoaXMubmV4dCA9IFwiZW5kXCIpIDogXCJub3JtYWxcIiA9PT0gcmVjb3JkLnR5cGUgJiYgYWZ0ZXJMb2MgJiYgKHRoaXMubmV4dCA9IGFmdGVyTG9jKSwgQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuICAgIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykgcmV0dXJuIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpLCByZXNldFRyeUVudHJ5KGVudHJ5KSwgQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24gX2NhdGNoKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgICBpZiAoXCJ0aHJvd1wiID09PSByZWNvcmQudHlwZSkge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfSwgXCJuZXh0XCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHVuZGVmaW5lZCksIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9LCBleHBvcnRzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9yZWdlbmVyYXRvclJ1bnRpbWUsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIChtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzKSwgX3R5cGVvZihvYmopO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCIvLyBUT0RPKEJhYmVsIDgpOiBSZW1vdmUgdGhpcyBmaWxlLlxuXG52YXIgcnVudGltZSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3JlZ2VuZXJhdG9yUnVudGltZVwiKSgpO1xubW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuXG4vLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL3BhY2thZ2VzL3J1bnRpbWUvcnVudGltZS5qcyNMNzM2PVxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGdsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgfSBlbHNlIHtcbiAgICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59IiwiaW1wb3J0IGFycmF5V2l0aEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5TGltaXQgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5TGltaXQuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlUmVzdCBmcm9tIFwiLi9ub25JdGVyYWJsZVJlc3QuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuXG4gIHZhciBfcywgX2U7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImltcG9ydCBhcnJheVdpdGhvdXRIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhvdXRIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlU3ByZWFkIGZyb20gXCIuL25vbkl0ZXJhYmxlU3ByZWFkLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn0iLCJsZXQgcGFyYW0gPSAneFlleHREZWJ1Zyc7XG5cbmV4cG9ydCBjbGFzcyBEZWJ1ZyB7XG4gIHN0YXRpYyBoYXNRdWVyeVBhcmFtKCkge1xuICAgIGlmICgnVVJMJyBpbiB3aW5kb3cgJiYgdHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBsZXQgcGFyYW1zID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikuc2VhcmNoUGFyYW1zO1xuICAgICAgcmV0dXJuIHBhcmFtcyAmJiBwYXJhbXMuZ2V0KHBhcmFtKSA9PSAndHJ1ZSc7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0YXRpYyBlbmFibGUoKSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQocGFyYW0pO1xuICB9XG5cbiAgc3RhdGljIGRpc2FibGUoKSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUocGFyYW0pO1xuICB9XG5cbiAgc3RhdGljIGlzRW5hYmxlZCgpIHtcbiAgICBsZXQgZW5hYmxlZCA9IHRoaXMuaGFzUXVlcnlQYXJhbSgpO1xuICAgIGlmIChlbmFibGVkKSB7XG4gICAgICB0aGlzLmVuYWJsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZW5hYmxlZDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGVidWcgfSBmcm9tICcuL0RlYnVnLmpzJztcblxubGV0IFNlbGVjdG9yVHJhY2tpbmcgPSB7fTtcblxuZnVuY3Rpb24gR2V0UGFyYW1zKHVybCkge1xuICBsZXQgcXVlcmllcyA9IHt9O1xuICBsZXQgcGFydHMgPSB1cmwuc3BsaXQoJz8nKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PSAyKSB7XG4gICAgcGFydHNbMV0uc3BsaXQoJyYnKS5mb3JFYWNoKChwYWlyKT0+e1xuICAgICAgbGV0IHBhcmFtcyA9IHBhaXIuc3BsaXQoJz0nKTtcbiAgICAgIHF1ZXJpZXNbcGFyYW1zWzBdXSA9IHBhcmFtc1sxXTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcXVlcmllcztcbn1cblxuZnVuY3Rpb24gQ2hlY2tBbmNob3JRdWVyaWVzKGFuY2hvcikge1xuICBpZiAoYW5jaG9yICYmIGFuY2hvci5ocmVmKSB7XG4gICAgbGV0IGVOYW1lID0gR2V0UGFyYW1zKGFuY2hvci5ocmVmKVsneWEtdHJhY2snXTtcbiAgICBpZiAoZU5hbWUpIHtcbiAgICAgIHJldHVybiBlTmFtZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBTZWFyY2hFbGVtZW50Rm9yU2VsZWN0b3IoZWwsIHMpIHtcbiAgLyogTG9vcCB1cCB0aGUgRE9NIHRyZWUgdGhyb3VnaCBwYXJlbnQgZWxlbWVudHMgdG8gdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIGdpdmVuIHNlbGVjdG9yICovXG4gIHdoaWxlIChlbCAmJiAoZWwudGFnTmFtZSAmJiAhZWwubWF0Y2hlcyhzKSkpIHtcbiAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG4gIH1cblxuICBpZiAoZWwgJiYgZWwudGFnTmFtZSAmJiBlbC5tYXRjaGVzKHMpKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIENhbGNFdmVudE5hbWVGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgbGV0IHR5cGUgPSBudWxsO1xuICBsZXQgdHJhY2tEZXRhaWxzID0gbnVsbDtcbiAgbGV0IHNyY0VsID0gbnVsbDtcblxuICBmb3IgKGNvbnN0IHNlbGVjdG9yIGluIFNlbGVjdG9yVHJhY2tpbmcpIHtcbiAgICBpZiAoIWVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIGNvbnRpbnVlO1xuICAgIHRyYWNrRGV0YWlscyA9IFNlbGVjdG9yVHJhY2tpbmdbc2VsZWN0b3JdO1xuICB9XG5cbiAgaWYgKCF0cmFja0RldGFpbHMpIHtcbiAgICBsZXQgcG90ZW50aWFsWWFUcmFja2VkRWwgPSBTZWFyY2hFbGVtZW50Rm9yU2VsZWN0b3IoZWxlbWVudCwgJ1tkYXRhLXlhLXRyYWNrXScpO1xuICAgIGlmIChwb3RlbnRpYWxZYVRyYWNrZWRFbCkge1xuICAgICAgc3JjRWwgPSBwb3RlbnRpYWxZYVRyYWNrZWRFbDtcbiAgICAgIHRyYWNrRGV0YWlscyA9IChwb3RlbnRpYWxZYVRyYWNrZWRFbC5kYXRhc2V0ID8gcG90ZW50aWFsWWFUcmFja2VkRWwuZGF0YXNldC55YVRyYWNrIDogcG90ZW50aWFsWWFUcmFja2VkRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXlhLXRyYWNrJykpO1xuICAgIH1cbiAgfVxuXG4gIGxldCBwcmV2ZW50RGVmYXVsdEV2ZW50ID0gU2VhcmNoRWxlbWVudEZvclNlbGVjdG9yKGVsZW1lbnQsICdbZGF0YS15YS1wcmV2ZW50LWRlZmF1bHRdJyk7XG5cbiAgaWYgKCFwcmV2ZW50RGVmYXVsdEV2ZW50ICYmICF0cmFja0RldGFpbHMpIHtcbiAgICBsZXQgYW5jaG9yID0gU2VhcmNoRWxlbWVudEZvclNlbGVjdG9yKGVsZW1lbnQsICdhJyk7XG4gICAgaWYgKGFuY2hvcikge1xuICAgICAgc3JjRWwgPSBhbmNob3I7XG4gICAgICBsZXQgYW5jaG9yUXVlcnkgPSBDaGVja0FuY2hvclF1ZXJpZXMoYW5jaG9yKTtcbiAgICAgIGlmIChhbmNob3JRdWVyeSkgdHJhY2tEZXRhaWxzID0gYW5jaG9yUXVlcnk7XG4gICAgICBpZiAoIWFuY2hvclF1ZXJ5ICYmICF0cmFja0RldGFpbHMpIHtcbiAgICAgICAgdHlwZSA9ICdsaW5rJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoIXByZXZlbnREZWZhdWx0RXZlbnQgJiYgIXRyYWNrRGV0YWlscyAmJiAhdHlwZSkge1xuICAgIGxldCBidXR0b24gPSBTZWFyY2hFbGVtZW50Rm9yU2VsZWN0b3IoZWxlbWVudCwgJ2J1dHRvbicpO1xuICAgIGlmIChidXR0b24pIHtcbiAgICAgIHNyY0VsID0gYnV0dG9uO1xuICAgICAgdHlwZSA9ICdidXR0b24nO1xuICAgIH1cbiAgfVxuXG4gIGlmICghcHJldmVudERlZmF1bHRFdmVudCAmJiAhdHJhY2tEZXRhaWxzICYmICF0eXBlKSB7XG4gICAgbGV0IGlucHV0ID0gU2VhcmNoRWxlbWVudEZvclNlbGVjdG9yKGVsZW1lbnQsICdpbnB1dCcpO1xuICAgIGlmIChpbnB1dCAmJiBpbnB1dC50eXBlICE9ICdoaWRkZW4nKSB7XG4gICAgICBzcmNFbCA9IGlucHV0O1xuICAgICAgdHlwZSA9ICdpbnB1dCc7XG4gICAgfVxuICB9XG5cbiAgbGV0IGRhdGFZYVRyYWNrID0gdHlwZSB8fCB0cmFja0RldGFpbHM7XG5cbiAgaWYgKCFkYXRhWWFUcmFjaykge1xuICAgIGlmICghRGVidWcuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICBjb25zb2xlLndhcm4oJ05vIHlhLXRyYWNrIGF0dHJpYnV0ZSBmb3VuZCBmb3InLCBlbGVtZW50KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgc2NvcGVBbmNlc3RvcnMgPSBbXTtcbiAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC50YWdOYW1lKSB7XG4gICAgaWYgKGVsZW1lbnQubWF0Y2hlcygnW2RhdGEteWEtc2NvcGVdJykpIHtcbiAgICAgIHNjb3BlQW5jZXN0b3JzLnB1c2goZWxlbWVudCk7XG4gICAgfVxuICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gIH1cblxuICBsZXQgdGFncyA9IFtzcmNFbF0uY29uY2F0KHNjb3BlQW5jZXN0b3JzKTtcbiAgZm9yIChjb25zdCBbaGllcmFyY2h5SWR4LCBoaWVyYXJjaHlFbGVtZW50XSBvZiB0YWdzLmVudHJpZXMoKSkge1xuICAgIGxldCB0YWdWYWwgPSAoaGllcmFyY2h5SWR4ID09IDApID8gZGF0YVlhVHJhY2sgOiAoaGllcmFyY2h5RWxlbWVudC5kYXRhc2V0ID8gaGllcmFyY2h5RWxlbWVudC5kYXRhc2V0LnlhU2NvcGUgOiBoaWVyYXJjaHlFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS15YS1zY29wZScpKVxuICAgIGlmICh0YWdWYWwuaW5kZXhPZignIycpID4gLTEpIHtcbiAgICAgIGxldCBhdHRyaWJ1dGVOYW1lID0gaGllcmFyY2h5SWR4ID09IDAgPyAnZGF0YS15YS10cmFjayc6ICdkYXRhLXlhLXNjb3BlJztcbiAgICAgIGxldCBhbmNlc3RvciA9IChoaWVyYXJjaHlJZHggKyAxIDwgdGFncy5sZW5ndGgpID8gdGFnc1toaWVyYXJjaHlJZHggKyAxXTogZG9jdW1lbnQ7XG4gICAgICBsZXQgc2libGluZ3MgPSBBcnJheS5mcm9tKGFuY2VzdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoYFske2F0dHJpYnV0ZU5hbWV9PScke3RhZ1ZhbH0nXWApKTtcbiAgICAgIGZvciAoY29uc3QgW3NpYmxpbmdJZHgsIHNpYmxpbmddIG9mIHNpYmxpbmdzLmVudHJpZXMoKSkge1xuICAgICAgICBpZiAoaGllcmFyY2h5RWxlbWVudCA9PSBzaWJsaW5nKSB7XG4gICAgICAgICAgdGFnVmFsID0gdGFnVmFsLnJlcGxhY2UoJyMnLCBzaWJsaW5nSWR4ICsgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGFnc1toaWVyYXJjaHlJZHhdID0gdGFnVmFsO1xuICB9XG5cbiAgcmV0dXJuIHRhZ3MucmV2ZXJzZSgpLmpvaW4oJ18nKTtcbn07XG5cbmZ1bmN0aW9uIENhbGNFdmVudE5hbWVNYXAoeWFJbnN0YW5jZSkge1xuICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gIGNvbnN0IGFsbExpbmtzID0gQXJyYXkuZnJvbShkb2N1bWVudC5saW5rcyk7XG4gIGNvbnN0IGFsbE90aGVyVHJhY2tlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYScpKTtcbiAgZm9yIChjb25zdCBlbCBvZiBhbGxMaW5rcy5jb25jYXQoYWxsT3RoZXJUcmFja2VkKSkge1xuICAgIGlmIChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2lucHV0JyAmJiBlbC50eXBlID09ICdoaWRkZW4nKSBjb250aW51ZTtcbiAgICBjb25zdCBuYW1lID0geWFJbnN0YW5jZS5DYWxjRXZlbnROYW1lRm9yRWxlbWVudChlbCk7XG4gICAgaWYgKCFuYW1lKSBjb250aW51ZTtcbiAgICBpZiAoIW1hcC5oYXMobmFtZSkpIHtcbiAgICAgIGxldCBjb250YWluZXIgPSBbXTtcbiAgICAgIG1hcC5zZXQobmFtZSwgY29udGFpbmVyKTtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudHMgPSBtYXAuZ2V0KG5hbWUpO1xuICAgIGVsZW1lbnRzLnB1c2goZWwpO1xuICAgIG1hcC5zZXQobmFtZSwgZWxlbWVudHMpO1xuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbmZ1bmN0aW9uIFByaW50RXZlbnQoZXZlbnROYW1lKSB7XG4gIGlmICghRGVidWcuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgY29uc29sZS5sb2coYCVjW1lleHRBbmFseXRpY3NdJWMtIEZpcmVkIGV2ZW50OiAke2V2ZW50TmFtZX1gLCAnYmFja2dyb3VuZDogd2hpdGU7IGNvbG9yOiBibHVlOycsICcnKTtcbn1cblxuZXhwb3J0IHtcbiAgU2VsZWN0b3JUcmFja2luZyxcbiAgR2V0UGFyYW1zLFxuICBDaGVja0FuY2hvclF1ZXJpZXMsXG4gIFNlYXJjaEVsZW1lbnRGb3JTZWxlY3RvcixcbiAgQ2FsY0V2ZW50TmFtZUZvckVsZW1lbnQsXG4gIENhbGNFdmVudE5hbWVNYXAsXG4gIFByaW50RXZlbnRcbn07XG4iLCJpbXBvcnQgeyBEZWxheU5hdmlnYXRpb24gYXMgTmF2aWdhdGVBZnRlckFjdGlvbklmTmVlZGVkIH0gZnJvbSAnLi9EZWxheU5hdmlnYXRpb24uanMnO1xuaW1wb3J0IHsgQ2FsY0V2ZW50TmFtZUZvckVsZW1lbnQsIFNlbGVjdG9yVHJhY2tpbmcsIFNlYXJjaEVsZW1lbnRGb3JTZWxlY3RvciwgUHJpbnRFdmVudCB9IGZyb20gJy4vSGVscGVycy5qcyc7XG5cbmNvbnN0IGNvbnZlcnNpb25Eb21haW4gPSAncmVhbHRpbWVhbmFseXRpY3MueWV4dC5jb20nO1xuY29uc3QgZXZlbnREb21haW4gPSAnd3d3LnlleHQtcGl4ZWwuY29tJztcbmNvbnN0IGNvbnZlcnNpb25FbmRwb2ludCA9ICdjb252ZXJzaW9udHJhY2tpbmcvY29udmVyc2lvbic7XG5jb25zdCBsaXN0aW5nc0VuZHBvaW50ID0gJ2xpc3RpbmdzJztcbmNvbnN0IGV2ZW50RW5kcG9pbnQgPSAnc3RvcmVfcGFnZXNwaXhlbCc7XG5cbmNsYXNzIEFuYWx5dGljcyB7XG4gIC8vIFRha2VzIFdpbmRvdyBhcyByZWZlcmVuY2UgZm9yIGJldHRlciBtaW5pZmljYXRpb24gcmVmZXJlbmNlc1xuICBjb25zdHJ1Y3Rvcih3aW4gPSB3aW5kb3csIGV2ZW50TmFtZUNhbGN1bGF0b3IgPSBDYWxjRXZlbnROYW1lRm9yRWxlbWVudCkge1xuICAgIGNvbnN0IGFuYWx5dGljc1FOYW1lID0gd2luLllleHRBbmFseXRpY3NPYmplY3QgfHwgJ3lhJztcblxuICAgIHRoaXMuX2V2ZW50TmFtZUNhbGN1bGF0b3IgPSBldmVudE5hbWVDYWxjdWxhdG9yO1xuICAgIHRoaXMud2luID0gd2luO1xuICAgIHRoaXMuZG9tID0gd2luLmRvY3VtZW50O1xuICAgIHRoaXMuc2V0KHsgcGFnZXVybDogd2luLmxvY2F0aW9uLnBhdGhuYW1lLCBwYWdlc1JlZmVycmVyOiB3aW4uZG9jdW1lbnQucmVmZXJyZXIgfSk7XG4gICAgdGhpcy5yZWdpc3RlcmVkTGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5TdGFuZGFyZEV2ZW50cyA9IHtcbiAgICAgIFdlYnNpdGVDbGljazogJ3dlYnNpdGUnLFxuICAgICAgRHJpdmluZ0RpcmVjdGlvbnM6ICdkaXJlY3Rpb25zJyxcbiAgICAgIE1vYmlsZUNhbGw6ICdwaG9uZScsXG4gICAgICBDVEFDbGljazogJ2N0YSdcbiAgICB9O1xuICAgIHRoaXMuZGVsYXlOYXZpZ2F0aW9uID0gdHJ1ZTtcbiAgICB0aGlzLmNvbnZlcnNpb25UcmFja2luZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLkNPTlNUQU5UUyA9IHtcbiAgICAgIENPT0tJRV9QQVJBTTogJ195ZnBjJyxcbiAgICAgIENPT0tJRV9SRU1PVkFMX1ZBTFVFOiAnX190ZW1wX18nIC8vIE9ubHkgZm9yIGV4cGlyZWQgY29va2llcyB0byBiZSByZW1vdmVkXG4gICAgfTtcbiAgICB0aGlzLmxpc3RpbmdzQ2xpY2tGaXJlZCA9IGZhbHNlO1xuXG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSB0aGlzLl9nZXRRdWVyeVBhcmFtcygpO1xuICAgIHRoaXMueV9zb3VyY2UgPSBxdWVyeVBhcmFtcy55X3NvdXJjZTtcblxuICAgIGlmICgneV9zb3VyY2UnIGluIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAvLyBSZW1vdmUgdGhlIGNvbnZlcnNpb24gc291cmNlIHBhcmFtIHRvIHByZXZlbnQgcmUtc3VibWlzc2lvbiBvbiBwYWdlIHJlbG9hZFxuICAgICAgZGVsZXRlIHF1ZXJ5UGFyYW1zLnlfc291cmNlO1xuXG4gICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHRoaXMuX2J1aWxkUXVlcnlTdHJpbmcocXVlcnlQYXJhbXMpO1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKFxuICAgICAgICB3aW5kb3cuaGlzdG9yeS5zdGF0ZSxcbiAgICAgICAgZG9jdW1lbnQudGl0bGUsXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIChxdWVyeVN0cmluZyA/ICc/JyArIHF1ZXJ5U3RyaW5nIDogJycpXG4gICAgICApO1xuICAgIH1cblxuICAgIG9uUmVhZHkoKCkgPT4ge1xuICAgICAgLy8gQWx3YXlzIG9ic2VydmUgY2xpY2tzIHNvIHdlIGNhbiBmaXJlIHRoZSBjYXRjaC1hbGwgaW50ZXJhY3Rpb24gZXZlbnRzXG4gICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXIoJ2NsaWNrJyk7XG5cbiAgICAgIC8vIERyYWluIHRoZSBjb21tYW5kIHF1ZXVlLCBpZiBwcmVzZW50XG4gICAgICBpZiAod2luW2FuYWx5dGljc1FOYW1lXSkge1xuICAgICAgICBjb25zdCBjcSA9IHdpblthbmFseXRpY3NRTmFtZV0ucSB8fCBbXTtcbiAgICAgICAgd2hpbGUgKGNxLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IGNvbW1hbmRBcmdzID0gY3Euc2hpZnQoKTtcbiAgICAgICAgICB0aGlzLnByb2Nlc3NDb21tYW5kKC4uLmNvbW1hbmRBcmdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZXBsYWNlIHRoZSBjb21tYW5kIHF1ZXVlIHdpdGggYSBwcm94eSB0byB0aGlzIGluc3RhbmNlXG4gICAgICB3aW5bYW5hbHl0aWNzUU5hbWVdID0gKC4uLmFyZ3MpID0+IHRoaXMucHJvY2Vzc0NvbW1hbmQoLi4uYXJncyk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRDYWxjRXZlbnROYW1lKGNhbGN1bGF0b3IpIHtcbiAgICB0aGlzLl9ldmVudE5hbWVDYWxjdWxhdG9yID0gY2FsY3VsYXRvcjtcbiAgfVxuXG4gIENhbGNFdmVudE5hbWVGb3JFbGVtZW50KHRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLl9ldmVudE5hbWVDYWxjdWxhdG9yKHRhcmdldCk7XG4gIH1cblxuICBsb2FkZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l0ZURhdGEuc2l0ZUlkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIHRoaXMuc2l0ZURhdGEuYnVzaW5lc3NpZHMgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNyZWF0ZShidXNJZCwgc2l0ZSwgc3RhZ2luZykge1xuICAgIHRoaXMuc2V0KHsgYnVzaW5lc3NpZHM6IGJ1c0lkLCBzaXRlSWQ6IHNpdGUsIGlzU3RhZ2luZzogc3RhZ2luZyB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNldChkYXRhKSB7XG4gICAgdGhpcy5zaXRlRGF0YSA9IE9iamVjdC5hc3NpZ24odGhpcy5zaXRlRGF0YSB8fCB7fSwgZGF0YSk7XG4gIH1cblxuICBzZXREZWxheU5hdmlnYXRpb24oYm9vbCkge1xuICAgIHRoaXMuZGVsYXlOYXZpZ2F0aW9uID0gYm9vbDtcbiAgfVxuXG4gIHNldENvbnZlcnNpb25UcmFja2luZ0VuYWJsZWQoYm9vbCkge1xuICAgIHRoaXMuY29udmVyc2lvblRyYWNraW5nRW5hYmxlZCA9IGJvb2wgJiYgIXRoaXMuZG9Ob3RUcmFja0VuYWJsZWQoKTtcbiAgICB0aGlzLl9maXJlTGlzdGluZ3NUYWdJZlNob3VsZCgpO1xuICB9XG5cbiAgcGFnZXZpZXcoKSB7XG4gICAgdGhpcy5zZW5kKHsgZXZlbnRUeXBlOiAncGFnZXZpZXcnIH0pO1xuICB9XG5cbiAgY2xpY2sob3B0cykge1xuICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlckZvclNlbGVjdG9yKCdjbGljaycsIG9wdHMuc2VsZWN0b3IsIG9wdHMubmFtZSk7XG4gIH1cblxuICB0cmFja0V2ZW50KGV2ZW50TmFtZSwgY2IpIHtcbiAgICB0aGlzLnNlbmQoeyBldmVudFR5cGU6IGV2ZW50TmFtZSB9LCBjYik7XG4gIH1cblxuICAvLyBJbnRlcm5hbCBmcm9tIGhlcmUgb24gb3V0IVxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgcmFuZG9tIG51bWJlciB0byBpbmNsdWRlIGFzIGEgVVJMIHBhcmFtXG4gICAqL1xuICBnZW5lcmF0ZVJhbmRvbUNvb2tpZV8oKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGlkZW50aWZpZXIgc3RvcmVkIGFzIGEgY29va2llIG9uIHRoZSB1c2VyJ3MgYnJvd3NlciwgaWYgcHJlc2VudC4gT3RoZXJ3aXNlXG4gICAqIHJldHVybnMgZW1wdHkuIFRoaXMgaXMgYWNjb21wbGlzaGVkIGJ5IGF0dGVtcHRpbmcgdG8gc2V0IGEgY29va2llIGF0IGRvbWFpbnMgaW4gb3JkZXIgb2ZcbiAgICogaW5jcmVhc2luZyBzcGVjaWZpY2l0eSAoZS5nLiBcIi5jb21cIiwgdGhlbiBcIi5leGFtcGxlLmNvbVwiLCB0aGVuIFwiLnN1YmRvbWFpbi5leGFtcGxlLmNvbVwiKSwgYW5kXG4gICAqIHRoZSBmaXJzdCBvbmUgdGhhdCB3ZSBjYW4gc2V0IGEgY29va2llIGluIGlzIHRoZSByb290IGRvbWFpbi4gQ2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIGEgY29va2llXG4gICAqIGluIHRoZSByb290IGRvbWFpbiBhbmQgaWYgbm90LCBjaGVjayBpZiBhIGNvb2tpZSBleGlzdHMgd2l0aG91dCBhIGRvbWFpbiwgZm9yIGxlZ2FjeSByZWFzb25zLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB2YWx1ZSB0byBpbmNsdWRlIGFzIGEgVVJMIHBhcmFtLCBvciBlbXB0eVxuICAgKi9cbiAgZmV0Y2hDb29raWVfKCkge1xuICAgIGxldCBjb29raWVWYWx1ZSA9ICcnO1xuICAgIGxldCBjaGVja0RvbWFpbiA9IChkb21haW4pID0+IHtcbiAgICAgIGlmKHRoaXMuY2FuU2V0Q29va2llV2l0aERvbWFpbl8oZG9tYWluKSkge1xuICAgICAgICBsZXQgcmVtb3ZlZFZhbHVlID0gdGhpcy5yZW1vdmVDb29raWVCeURvbWFpbl8oZG9tYWluKTtcbiAgICAgICAgaWYocmVtb3ZlZFZhbHVlKSB7XG4gICAgICAgICAgLy8gV2UgZm91bmQgYW5kIHJlbW92ZWQgYSB2YWx1ZSwgc28gcHV0IGl0IGJhY2tcbiAgICAgICAgICBjb29raWVWYWx1ZSA9IHJlbW92ZWRWYWx1ZTtcbiAgICAgICAgICB0aGlzLnNldENvb2tpZV8oY29va2llVmFsdWUsIGRvbWFpbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXhpdCB0aGUgbG9vcCBvbmNlIHdlJ3ZlIHJlYWNoZWQgcm9vdCBkb21haW4gKHRoZSBmaXJzdCBkb21haW4gd2hlcmUgd2UgY2FuIHNldCBhIGNvb2tpZSlcbiAgICAgICAgcmV0dXJuIHRydWU7IFxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmZvckVhY2hEb21haW5JbmNyZWFzaW5nU3BlY2lmaWNpdHlfKGNoZWNrRG9tYWluKTtcbiAgICAvLyBJZiBubyBjb29raWUgd2FzIHByZXNlbnQgaW4gdGhlIHJvb3QgZG9tYWluLCBjaGVjayBmb3IgYSBjb29raWUgdGhhdCBkb2Vzbid0IGhhdmUgYSBkb21haW5cbiAgICAvLyBzcGVjaWZpZWQgKGJ5IHBhc3NpbmcgYW4gZW1wdHkgc3RyaW5nIHRvIGNoZWNrRG9tYWluLCBpbmRpY2F0aW5nIG5vIGRvbWFpbikuXG4gICAgaWYoIWNvb2tpZVZhbHVlKSBjaGVja0RvbWFpbignJyk7XG4gICAgcmV0dXJuIGNvb2tpZVZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlcyBhIGNvb2tpZSBvbiB0aGUgdXNlcidzIGJyb3dzZXIgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUgYW5kIGRvbWFpbiwgd2l0aCBuYW1lIENPT0tJRV9QQVJBTS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvb2tpZVZhbHVlIFRoZSB2YWx1ZSB0byBzZXQgYXMgdGhlIGZpcnN0IHBhcnR5IGNvb2tpZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29va2llRG9tYWluIFRoZSBkb21haW4gaW4gd2hpY2ggdG8gc2V0IHRoZSBjb29raWVcbiAgICovXG4gIHNldENvb2tpZV8oY29va2llVmFsdWUsIGNvb2tpZURvbWFpbikge1xuICAgIGxldCBjb29raWVTdHJpbmcgPSB0aGlzLmZvcm1hdENvb2tpZV8oXG4gICAgICB0aGlzLkNPTlNUQU5UUy5DT09LSUVfUEFSQU0sXG4gICAgICBjb29raWVWYWx1ZSxcbiAgICAgIGNvb2tpZURvbWFpbik7XG4gICAgdGhpcy53aW4uZG9jdW1lbnQuY29va2llID0gY29va2llU3RyaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmb3JtYXR0ZWQgY29va2llIHN0cmluZyBnaXZlbiBhIGtleSwgdmFsdWUsIGRvbWFpbiwgYW5kLCBvcHRpb25hbGx5LCBhIHBhdGguIFxuICAgKiBgRXhwaXJlc2AgaXMgc2V0IHRvIGVuc3VyZSB0aGUgY29va2llIGlzIHBlcnNpc3RlbnQsIGBTYW1lc2l0ZT1Ob25lYCBzbyB0aGUgdmFsdWUgY2FuIGJlIFxuICAgKiBpbmNsdWRlZCBpbiBjcm9zcy1zaXRlIHJlcXVlc3RzLGBEb21haW5gIGRlZmF1bHRzIHRvIHJvb3QgZG9tYWluIChpZiBwb3NzaWJsZSkgdG8gZW5hYmxlIFxuICAgKiB0cmFja2luZyBhY3Jvc3Mgc3ViZG9tYWlucywgYW5kIGBTZWN1cmVgIGlzIHJlcXVpcmVkIHdoZW4gdXNpbmcgXG4gICAqIGBTYW1lc2l0ZT1Ob25lYDogaHR0cHM6Ly93d3cuY2hyb21lc3RhdHVzLmNvbS9mZWF0dXJlLzU2MzM1MjE2MjIxODgwMzJcbiAgICogXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb29raWVOYW1lIFRoZSBuYW1lIG9mIHRoZSBjb29raWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvb2tpZVZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgY29va2llXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiB0byBzZXQgdGhlIGNvb2tpZSBmb3JcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXRoIFRoZSBwYXRoIHRvIHNldCB0aGUgY29va2llIGZvclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgY29va2llIHN0cmluZyB3aGljaCBjYW4gYmUgZGlyZWN0bHkgYWRkZWQgdG8gYSBkb2N1bWVudCdzIGNvb2tpZXNcbiAgICovXG4gIGZvcm1hdENvb2tpZV8oY29va2llTmFtZSwgY29va2llVmFsdWUsIGRvbWFpbiwgcGF0aCA9ICcvJykge1xuICAgIGxldCBjb29raWVTdHJpbmcgPSBjb29raWVOYW1lICsgJz0nICsgY29va2llVmFsdWUsXG4gICAgICAgIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgbm93LnNldFRpbWUobm93LmdldFRpbWUoKSArIDkwICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgY29va2llU3RyaW5nICs9ICc7cGF0aD0nICsgcGF0aDtcbiAgICBjb29raWVTdHJpbmcgKz0gJztleHBpcmVzPScgKyBub3cudG9VVENTdHJpbmcoKTtcbiAgICBpZihkb21haW4pIGNvb2tpZVN0cmluZyArPSAnO2RvbWFpbj0nICsgZG9tYWluO1xuICAgIGNvb2tpZVN0cmluZyArPSAnO3NhbWVzaXRlPU5vbmU7JztcbiAgICBpZiAodGhpcy53aW4ubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonKSB7XG4gICAgICBjb29raWVTdHJpbmcgKz0gJyBTZWN1cmUgJztcbiAgICB9XG4gICAgcmV0dXJuIGNvb2tpZVN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgd2UgYXJlIGFibGUgdG8gc2V0IGEgY29va2llIChmb3JtYXR0ZWQgbGlrZSB0aGUgYWN0dWFsIGNvb2tpZSBmb3IgdHJhY2tpbmcpXG4gICAqIGF0IGEgc3BlY2lmaWVkIGRvbWFpbiBvciBub3QuIFByZXNlcnZlcyBleGlzdGluZyBjb29raWVzIGluIHRoZSBzYW1lIGRvbWFpbiAoYnV0IG5vdCB0aGVpclxuICAgKiBleHBpcmF0aW9uIGRhdGVzKS5cbiAgICogXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW4gVGhlIHZhbHVlIGZvciB0aGUgY29va2llJ3MgZG9tYWluIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIGEgZHVtbXkgY29va2llIHdhcyBzdWNjZXNzZnVsbHkgc2V0IHdpdGggZG9tYWluIHNldCB0byBkb21haW4uXG4gICAqL1xuICBjYW5TZXRDb29raWVXaXRoRG9tYWluXyhkb21haW4pIHtcbiAgICBsZXQgbG9zdENvb2tpZSA9IHRoaXMucmVtb3ZlQ29va2llQnlEb21haW5fKGRvbWFpbik7XG5cbiAgICBsZXQgZXhpc3RpbmdDb29raWVzID0gdGhpcy5hbGxDb29raWVzXygpO1xuICAgIHRoaXMuc2V0Q29va2llXyh0aGlzLkNPTlNUQU5UUy5DT09LSUVfUkVNT1ZBTF9WQUxVRSwgZG9tYWluKTtcbiAgICBsZXQgbmV3Q29va2llcyA9IHRoaXMuYWxsQ29va2llc18oKTtcbiAgICBpZihleGlzdGluZ0Nvb2tpZXMubGVuZ3RoIDwgbmV3Q29va2llcy5sZW5ndGgpIHtcbiAgICAgIC8vIENvb2tpZSB3YXMgc3VjY2Vzc2Z1bGx5IHNhdmVkLCBzbyB3aXBlIGl0IGFuZCBwdXQgYmFjayB0aGUgb2xkIGNvb2tpZSBpZiB0aGVyZSB3YXMgb25lXG4gICAgICBpZihsb3N0Q29va2llKSB7XG4gICAgICAgIHRoaXMuc2V0Q29va2llXyhsb3N0Q29va2llLCBkb21haW4pO1xuICAgICAgfWVsc2Uge1xuICAgICAgICB0aGlzLmNsZWFyQ29va2llXyhkb21haW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGEgY29va2llIHdpdGggbmFtZSBDT09LSUVfUEFSQU0gdG8gbWFrZSBpdCBleHBpcmUgaW1tZWRpYXRlbHkuXG4gICAqIFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZz19IGNvb2tpZURvbWFpbiBUaGUgZG9tYWluIG9mIHRoZSBjb29raWUgdG8gY2xlYXJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBjb29raWVQYXRoIFRoZSBwYXRoIG9mIHRoZSBjb29raWUgdG8gYmUgZGVsZXRlZCAoZGVmYXVsdHMgdG8gJy8nKVxuICAgKi9cbiAgY2xlYXJDb29raWVfKGNvb2tpZURvbWFpbiA9ICcnLCBjb29raWVQYXRoID0gJy8nKSB7XG4gICAgbGV0IGNvb2tpZU5hbWUgPSB0aGlzLkNPTlNUQU5UUy5DT09LSUVfUEFSQU07XG4gICAgbGV0IGVwb2NoID0gbmV3IERhdGUoMCk7XG4gICAgbGV0IGNvb2tpZVN0cmluZyA9IGNvb2tpZU5hbWUgKyAnPScgKyB0aGlzLkNPTlNUQU5UUy5DT09LSUVfUkVNT1ZBTF9WQUxVRTtcbiAgICBjb29raWVTdHJpbmcgKz0gJztwYXRoPScgKyBjb29raWVQYXRoO1xuICAgIGNvb2tpZVN0cmluZyArPSAnO2V4cGlyZXM9JyArIGVwb2NoLnRvVVRDU3RyaW5nKCk7XG4gICAgaWYoY29va2llRG9tYWluKSBjb29raWVTdHJpbmcgKz0gJztkb21haW49JyArIGNvb2tpZURvbWFpbiArICc7JztcbiAgICBjb29raWVTdHJpbmcgKz0gJztzYW1lc2l0ZT1Ob25lOyc7XG4gICAgaWYgKHRoaXMud2luLmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6Jykge1xuICAgICAgY29va2llU3RyaW5nICs9ICcgU2VjdXJlICc7XG4gICAgfVxuICAgIHRoaXMuZG9tLmNvb2tpZSA9IGNvb2tpZVN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgQ09PS0lFX1BBUkFNIGNvb2tpZSBieSBkb21haW4sIHRoZW4gcmV0dXJucyBpdHMgdmFsdWUgaWYgc3VjY2Vzc2Z1bCBhbmQgZW1wdHkgc3RyaW5nXG4gICAqIG90aGVyd2lzZS5cbiAgICogXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb29raWVEb21haW4gVGhlIGRvbWFpbiB0byByZW1vdmUgdGhlIGNvb2tpZSBmcm9tXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHZhbHVlIG9mIHRoZSBjb29raWUsIG9yIGVtcHR5IHN0cmluZyBpZiBub3QgZm91bmQuXG4gICAqL1xuICByZW1vdmVDb29raWVCeURvbWFpbl8oY29va2llRG9tYWluKSB7XG4gICAgbGV0IHByZXZSZW1haW5pbmdDb29raWVzID0gdGhpcy5wZXJzaXN0ZW50Q29va2llc18oKTtcbiAgICB0aGlzLmNsZWFyQ29va2llXyhjb29raWVEb21haW4pO1xuICAgIGxldCByZW1haW5pbmdDb29raWVzID0gdGhpcy5wZXJzaXN0ZW50Q29va2llc18oKTtcbiAgICBcbiAgICBpZihyZW1haW5pbmdDb29raWVzLmxlbmd0aCA8IHByZXZSZW1haW5pbmdDb29raWVzLmxlbmd0aCkge1xuICAgICAgbGV0IHJlbW92ZWRWYWx1ZSA9IHRoaXMubGlzdERpZmZlcmVuY2VfKHByZXZSZW1haW5pbmdDb29raWVzLCByZW1haW5pbmdDb29raWVzKVswXSB8fCAnJztcbiAgICAgIHJldHVybiByZW1vdmVkVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsaXN0IGRpZmZlcmVuY2UgYmV0d2VlbiBhIHN1cGVybGlzdCBhbmQgc3VibGlzdCwgYWNjb3VudGluZyBmb3IgbnVtYmVyIG9mXG4gICAqIG9jY3VycmVuY2VzLlxuICAgKiBcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHshQXJyYXk8Pz59IHN1cGVybGlzdCBUaGUgZnVsbCBhcnJheVxuICAgKiBAcGFyYW0geyFBcnJheTw/Pn0gc3VibGlzdCBUaGUgc3ViYXJyYXlcbiAgICogQHJldHVybiB7IUFycmF5PD8+fSBUaGUgZWxlbWVudHMgaW4gc3VwZXJzZXQgdGhhdCBhcmUgbm90IGluIHN1YnNldFxuICAgKi9cbiAgbGlzdERpZmZlcmVuY2VfKHN1cGVybGlzdCwgc3VibGlzdCkge1xuICAgIGxldCBzdXBlcmxpc3RDb3B5ID0gQXJyYXkuZnJvbShzdXBlcmxpc3QpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzdWJsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaW5kZXggPSBzdXBlcmxpc3RDb3B5LmluZGV4T2Yoc3VibGlzdFtpXSk7XG4gICAgICBpZihpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgc3VwZXJsaXN0Q29weS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3VwZXJsaXN0Q29weTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSBsaXN0IG9mIHZhbHVlcyBvZiBjb29raWVzIHdpdGggdGhlIG5hbWUgb2YgQ09PS0lFX1BBUkFNIHRoYXQgYXJlIHByZXNlbnQgYW5kIG5vdCBcbiAgICogc2V0IHRvIGJlIHJlbW92ZWQgKGkuZS4gaGF2aW5nIHRoZSBzcGVjaWZpYyB2YWx1ZSB0aGlzIHNjcmlwdCB1c2VzIHRvIGluZGljYXRlIGEgcmVtb3ZlZFxuICAgKiBjb29raWUpLlxuICAgKiBcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7IUFycmF5PHN0cmluZz59IFRoZSBub24tdGVtcG9yYXJ5IHZhbHVlcyBhc3NvY2lhdGVkIHRvIENPT0tJRV9QQVJBTVxuICAgKi9cbiAgcGVyc2lzdGVudENvb2tpZXNfKCkge1xuICAgIHJldHVybiB0aGlzLmFsbENvb2tpZXNfKCkuZmlsdGVyKFxuICAgICAgdmFsID0+IHZhbCAhPT0gdGhpcy5DT05TVEFOVFMuQ09PS0lFX1JFTU9WQUxfVkFMVUUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIGxpc3Qgb2YgdmFsdWVzIG9mIGNvb2tpZXMgd2l0aCB0aGUgbmFtZSBvZiBDT09LSUVfUEFSQU0gdGhhdCBhcmUgcHJlc2VudC5cbiAgICogXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fSBBbGwgdmFsdWVzIGFzc29jaWF0ZWQgdG8gQ09PS0lFX1BBUkFNXG4gICAqL1xuICBhbGxDb29raWVzXygpIHtcbiAgICBsZXQgY29va2llTmFtZSA9IHRoaXMuQ09OU1RBTlRTLkNPT0tJRV9QQVJBTTtcbiAgICBsZXQgYXJyID0gW107XG4gICAgdGhpcy5mb3JFYWNoQ29va2llTmFtZVZhbHVlXygobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgIGlmKG5hbWUgPT09IGNvb2tpZU5hbWUpIHtcbiAgICAgICAgYXJyLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogUnVucyBuYW1lVmFsdWVGdW5jIG9uIGVhY2ggY29va2llJ3Mga2V5IGFuZCB2YWx1ZSAoYWZ0ZXIgdHJpbW1pbmcpLCBvbmx5IGlmIHRoZSBrZXkgYW5kIHZhbHVlIFxuICAgKiBhcmUgYm90aCB0cnV0aHkuXG4gICAqIFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZywgc3RyaW5nKX0gbmFtZVZhbHVlRnVuYyBBIGZ1bmN0aW9uIHRvIHJ1biBvbiBlYWNoIGNvb2tpZSBrZXktdmFsdWUgcGFpclxuICAgKi9cbiAgZm9yRWFjaENvb2tpZU5hbWVWYWx1ZV8obmFtZVZhbHVlRnVuYykge1xuICAgIHRoaXMud2luLmRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpLmZvckVhY2goKGNvb2tpZSkgPT4ge1xuICAgICAgbGV0IGtleVZhbHVlID0gY29va2llLnNwbGl0KCc9JyksXG4gICAgICAgICAga2V5ID0ga2V5VmFsdWVbMF0sXG4gICAgICAgICAgdmFsdWUgPSBrZXlWYWx1ZVsxXTtcblxuICAgICAgaWYoa2V5ICYmIHZhbHVlKSB7XG4gICAgICAgIG5hbWVWYWx1ZUZ1bmMoa2V5LnRyaW0oKSwgdmFsdWUudHJpbSgpKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgYSBmdW5jdGlvbiBvbiBlYWNoIHBvc3NpYmxlIGRvbWFpbiBpbiBvcmRlciBvZiBpbmNyZWFzaW5nIHNwZWNpZmljaXR5IChlLmcuIC5jb20sXG4gICAqIC5leGFtcGxlLmNvbSwgLmZ1bGwuZXhhbXBsZS5jb20pLiBOb3RlIHRoYXQgZW1wdHkgc3RyaW5nLCBpbmRpY2F0aW5nIHVuc2V0IGRvbWFpbiwgaXMgaXRlcmF0ZWRcbiAgICogdGhyb3VnaCBhdCB0aGUgZW5kLiBBIHRydXRoeSByZXR1cm4gdmFsdWUgaW5kaWNhdGVzIHRvIGJyZWFrIG91dCBvZiB0aGUgbG9vcC5cbiAgICogXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKTogKGJvb2xlYW58dW5kZWZpbmVkKX0gZnVuYyBBIGZ1bmN0aW9uIHRvIGNhbGwgb24gZWFjaCBwb3NzaWJsZSBkb21haW4gXG4gICAqL1xuICBmb3JFYWNoRG9tYWluSW5jcmVhc2luZ1NwZWNpZmljaXR5XyhmdW5jKSB7XG4gICAgbGV0IGV4aXRlZExvb3AgPSBmYWxzZTtcbiAgICBsZXQgZG9tYWluUGFydHMgPSB0aGlzLndpbi5sb2NhdGlvbi5ob3N0bmFtZS5zcGxpdCgnLicpLnJldmVyc2UoKTtcbiAgICBsZXQgY3VyckRvbWFpbiA9ICcnO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGRvbWFpblBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdXJyRG9tYWluID0gJy4nICsgZG9tYWluUGFydHNbaV0gKyBjdXJyRG9tYWluO1xuICAgICAgaWYoZnVuYyhjdXJyRG9tYWluKSkge1xuICAgICAgICBleGl0ZWRMb29wID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmKCFleGl0ZWRMb29wKSBmdW5jKCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZXMgYSB0cmFja2luZyBjb29raWUgb24gdGhlIHVzZXIncyBicm93c2VyIHdpdGggdGhlIGdpdmVuIHZhbHVlIGluIHRoZSByb290IGRvbWFpbiwgYW5kXG4gICAqIHJlbW92ZXMgZmlyc3QgcGFydHkgY29va2llcyBmcm9tIGFsbCBvdGhlciBkb21haW5zICh3aGljaCBtYXkgYmUgcHJlc2VudCBmb3IgbGVnYWN5IHJlYXNvbnMpLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29va2llVmFsdWUgVGhlIHZhbHVlIHRvIHNldCBhcyB0aGUgZmlyc3QgcGFydHkgY29va2llXG4gICAqL1xuICBzZXRDb29raWVBbmRSZW1vdmVPbGRDb29raWVzXyhjb29raWVWYWx1ZSkge1xuICAgIGxldCByb290RG9tYWluUmVhY2hlZCA9IGZhbHNlO1xuICAgIGxldCB0b3RhbENvb2tpZXMgPSB0aGlzLmFsbENvb2tpZXNfKCkubGVuZ3RoO1xuICAgIGxldCBudW1Db29raWVzRW5jb3VudGVyZWQgPSAwO1xuICAgIFxuICAgIC8vIEl0ZXJhdGUgdW50aWwgd2UgZmluZCB0aGUgdG9wbW9zdCBkb21haW4gKHRoZSByb290IGRvbWFpbiksIHdoZXJlIHdlIHNldCB0aGUgY29va2llLCBcbiAgICAvLyB0aGVuIGNvbnRpbnVlIGl0ZXJhdGluZywganVzdCBkZWxldGluZyBhbnkgY29va2llcyB3ZSBmaW5kIGFmdGVyd2FyZHMuXG4gICAgdGhpcy5mb3JFYWNoRG9tYWluSW5jcmVhc2luZ1NwZWNpZmljaXR5Xyhkb21haW4gPT4ge1xuICAgICAgaWYocm9vdERvbWFpblJlYWNoZWQpIHtcbiAgICAgICAgaWYodGhpcy5yZW1vdmVDb29raWVCeURvbWFpbl8oZG9tYWluKSkgbnVtQ29va2llc0VuY291bnRlcmVkKys7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgIGlmKHRoaXMuY2FuU2V0Q29va2llV2l0aERvbWFpbl8oZG9tYWluKSkge1xuICAgICAgICAgIC8vIEluIHJvb3QgZG9tYWluLCBzbyBzZXQgY29va2llXG4gICAgICAgICAgaWYodGhpcy5yZW1vdmVDb29raWVCeURvbWFpbl8oZG9tYWluKSkgbnVtQ29va2llc0VuY291bnRlcmVkKys7XG4gICAgICAgICAgdGhpcy5zZXRDb29raWVfKGNvb2tpZVZhbHVlLCBkb21haW4pO1xuICAgICAgICAgIHJvb3REb21haW5SZWFjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZihudW1Db29raWVzRW5jb3VudGVyZWQgPj0gdG90YWxDb29raWVzICYmIHJvb3REb21haW5SZWFjaGVkKSB7XG4gICAgICAgIC8vIEJyZWFrIGlmIHdlJ3ZlIGFscmVhZHkgZW5jb3VudGVyZWQgZXZlcnkgY29va2llIGFuZCB3ZSBhbHJlYWR5IHNldCBvbmUgaW4gcm9vdCBkb21haW5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICAqIEZpcmUgYSBsaXN0aW5ncyBjb252ZXJzaW9uIGNsaWNrIGV2ZW50IG9uY2UuIFRoaXMgZXZlbnQgbXVzdCBub3QgYmUgZmlyZWQgYmVmb3JlIHRoZSB1c2VyXG4gICAgKiBvcHRzIGluIHRvIGNvbnZlcnNpb24gdHJhY2tpbmcuXG4gICAgKi9cbiAgX2ZpcmVMaXN0aW5nc1RhZ0lmU2hvdWxkKCkge1xuICAgIGlmICh0aGlzLmxpc3RpbmdzQ2xpY2tGaXJlZCB8fCAhdGhpcy5jb252ZXJzaW9uVHJhY2tpbmdFbmFibGVkIHx8ICF0aGlzLnlfc291cmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGNvb2tpZVZhbHVlID0gdGhpcy5mZXRjaENvb2tpZV8oKTtcbiAgICBpZiAoIWNvb2tpZVZhbHVlKSB7XG4gICAgICBjb29raWVWYWx1ZSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21Db29raWVfKCkudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgdGhpcy5zZXRDb29raWVBbmRSZW1vdmVPbGRDb29raWVzXyhjb29raWVWYWx1ZSk7XG5cblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICB5X3NvdXJjZTogdGhpcy55X3NvdXJjZSxcbiAgICAgIHJlZmVycmVyOiBkb2N1bWVudC5yZWZlcnJlcixcbiAgICAgIGxvY2F0aW9uOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgIFt0aGlzLkNPTlNUQU5UUy5DT09LSUVfUEFSQU1dOiBjb29raWVWYWx1ZVxuICAgIH07XG5cbiAgICBjb25zdCB1cmwgPSB0aGlzLl9nZXRUcmFja2VyVXJsKGNvbnZlcnNpb25Eb21haW4sIGxpc3RpbmdzRW5kcG9pbnQsIGRhdGEpO1xuXG4gICAgdGhpcy5maXJlKHVybCk7XG4gICAgdGhpcy5saXN0aW5nc0NsaWNrRmlyZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGEgcXVlcnkgc3RyaW5nIGZyb20gdGhlIGdpdmVuIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIGRhdGEgdG8gYmUgc2VyaWFsaXplZCBpbiB0aGUgcXVlcnlcbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZGF0YSBhcyBhIHF1ZXJ5IHN0cmluZywgJ2tleT12YWx1ZScgam9pbmVkIGJ5ICcmJ1xuICAgKi9cbiAgX2J1aWxkUXVlcnlTdHJpbmcoZGF0YSkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhkYXRhKVxuICAgICAgLmZpbHRlcigoW2tleV0pID0+IGtleSlcbiAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdKVxuICAgICAgICAgIC5tYXAodmFsID0+IGtleSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWwgPT09IHVuZGVmaW5lZCA/ICcnIDogdmFsKSlcbiAgICAgICAgICAuam9pbignJicpXG4gICAgICB9KVxuICAgICAgLmpvaW4oJyYnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFVSTCBmb3IgYW4gYW5hbHl0aWNzIGV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiB0aGUgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbmRwb2ludCBUaGUgcGF0aCBhZnRlciB0aGUgZG9tYWluXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBkYXRhIHRvIGJlIHNlcmlhbGl6ZWQgaW4gdGhlIHF1ZXJ5XG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGZ1bGwgVVJMXG4gICAqL1xuICBfZ2V0VHJhY2tlclVybChkb21haW4sIGVuZHBvaW50LCBkYXRhKSB7XG4gICAgY29uc3QgcXVlcnlTdHJpbmcgPSB0aGlzLl9idWlsZFF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgIHJldHVybiBgaHR0cHM6Ly8ke2RvbWFpbn0vJHtlbmRwb2ludH0/JHtxdWVyeVN0cmluZ31gO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgVVJMIHF1ZXJ5IHBhcmFtZXRlcnMgZnJvbSB3aW5kb3cubG9jYXRpb24uc2VhcmNoXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gVGhlIFVSTCBwYXJhbWV0ZXJzXG4gICAqL1xuICBfZ2V0UXVlcnlQYXJhbXMoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpXG4gICAgICAuc3BsaXQoJyYnKVxuICAgICAgLm1hcChwYXJhbSA9PiBwYXJhbS5zcGxpdCgnPScpKVxuICAgICAgLnJlZHVjZSgocGFyYW1zLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgY29uc3QgZGVjb2RlZFZhbCA9IHZhbHVlICYmIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIGlmIChrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW1zW2tleV0pKSB7XG4gICAgICAgICAgICBwYXJhbXNba2V5XS5wdXNoKGRlY29kZWRWYWwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJhbXNba2V5XSA9IFtwYXJhbXNba2V5XSwgZGVjb2RlZFZhbF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcmFtc1trZXldID0gZGVjb2RlZFZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgICAgfSwge30pO1xuICB9XG5cbiAgb25jZSh0YXNrKSB7XG4gICAgaWYgKCF0YXNrKVxuICAgICAgcmV0dXJuO1xuXG4gICAgbGV0IGludm9rZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGludm9rZWQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGludm9rZWQgPSB0cnVlO1xuICAgICAgdGFzaygpO1xuICAgIH07XG4gIH1cblxuICBzZW5kKGRhdGEsIGNiKSB7XG4gICAgdGhpcy5maXJlKHRoaXMucGl4ZWxVUkwoZGF0YSksIGNiKTtcbiAgfVxuXG4gIHJlZ2lzdGVyT2JzZXJ2ZXJGb3JTZWxlY3RvcihldmVudFR5cGUsIHNlbGVjdG9yLCBldmVudE5hbWUpIHtcbiAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXIoZXZlbnRUeXBlKTtcbiAgICAvLyBHRU5FUkFUT1IgVE9ETzogRG8gd2Ugd2FudCB0byBiZSBhYmxlIHRvIHRyYWNrIG11bHRpcGxlIGV2ZW50cyBmb3IgdGhlIHNhbWUgc2VsZWN0b3I/XG4gICAgU2VsZWN0b3JUcmFja2luZ1tzZWxlY3Rvcl0gPSBldmVudE5hbWU7XG4gIH1cblxuICByZWdpc3Rlck9ic2VydmVyKGV2ZW50VHlwZSkge1xuICAgIGlmICghdGhpcy5yZWdpc3RlcmVkTGlzdGVuZXJzLmhhc093blByb3BlcnR5KGV2ZW50VHlwZSkpIHtcbiAgICAgIC8vIHRoaXMgdXNlZCB0byBjYWxsIGEgcG9seWZpbGwgYXQgdGhlIHRvcCBvZiB0aGUgcGFnZSB0aGF0IHdhcyBtaWdyYXRlZCB0b1xuICAgICAgLy8gdGhlIFBvbHlmaWxscyBDb21wb25lbnRzICh0ZXN0IGluIElFKVxuICAgICAgdGhpcy5kb20uYm9keS5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJlZExpc3RlbmVyc1tldmVudFR5cGVdID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB1blJlZ2lzdGVyT2JzZXJ2ZXIoZXZlbnRUeXBlLCBzZWxlY3RvciwgZXZlbnROYW1lKSB7XG4gICAgaWYgKFNlbGVjdG9yVHJhY2tpbmcuaGFzT3duUHJvcGVydHkoc2VsZWN0b3IpKSB7XG4gICAgICBkZWxldGUgU2VsZWN0b3JUcmFja2luZ1tzZWxlY3Rvcl07XG4gICAgfVxuICAgIC8vIEdFTkVSQVRPUiBUT0RPOiBjb29yZGluYXRlIHJlbW92ZSBvZiBzZWxlY3RvciB0cmFja2luZyB3aXRoIHVucmVnaXN0ZXJpbmcgZXZlbnQgbGlzdGVuZXJcbiAgfVxuXG4gIHByb2Nlc3NDb21tYW5kKGNvbW1hbmQsIC4uLmFyZ3MpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgJ1JlY2VpdmVkIEFuYWx5dGljcyBDb21tYW5kIHdpdGggbm8gQXJndW1lbnRzJztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRoaXNbY29tbWFuZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0aGlzW2NvbW1hbmRdKC4uLmFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBgVW5rbm93biBjb21tYW5kICR7Y29tbWFuZH1gO1xuICAgIH1cbiAgfVxuXG4gIHBpeGVsVVJMKG9wdGlvbmFsRGF0YSkge1xuICAgIGNvbnN0IGNvbWJpbmVkRGF0YSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIHByb2R1Y3Q6ICdzaXRlcycsXG4gICAgICAgIHY6IHRoaXMuc2VlZCgpXG4gICAgICB9LFxuICAgICAgdGhpcy5zaXRlRGF0YSxcbiAgICAgIG9wdGlvbmFsRGF0YVxuICAgICk7XG5cbiAgICBpZiAodGhpcy5jb252ZXJzaW9uVHJhY2tpbmdFbmFibGVkKSB7XG4gICAgICBsZXQgY29va2llVmFsdWUgPSB0aGlzLmZldGNoQ29va2llXygpO1xuICAgICAgaWYgKCFjb29raWVWYWx1ZSkge1xuICAgICAgICBjb29raWVWYWx1ZSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21Db29raWVfKCkudG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0Q29va2llQW5kUmVtb3ZlT2xkQ29va2llc18oY29va2llVmFsdWUpO1xuICAgICAgY29tYmluZWREYXRhW3RoaXMuQ09OU1RBTlRTLkNPT0tJRV9QQVJBTV0gPSBjb29raWVWYWx1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9uYWxEYXRhLmV2ZW50VHlwZSkge1xuICAgICAgUHJpbnRFdmVudChvcHRpb25hbERhdGEuZXZlbnRUeXBlKTtcbiAgICB9XG5cbiAgICBjb25zdCBhbmFseXRpY3NEb21haW4gPSB0aGlzLmNvbnZlcnNpb25UcmFja2luZ0VuYWJsZWQgPyBjb252ZXJzaW9uRG9tYWluIDogZXZlbnREb21haW47XG5cbiAgICByZXR1cm4gdGhpcy5fZ2V0VHJhY2tlclVybChhbmFseXRpY3NEb21haW4sIGV2ZW50RW5kcG9pbnQsIGNvbWJpbmVkRGF0YSk7XG4gIH1cblxuICBnZXRDb252ZXJzaW9uUGFyYW1zKGVsKSB7XG4gICAgZm9yIChsZXQgY3VycmVudCA9IGVsOyBjdXJyZW50ICE9PSBudWxsOyBjdXJyZW50ID0gY3VycmVudC5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAoIWN1cnJlbnQuZGF0YXNldCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnQuZGF0YXNldC55YUNpZCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgY2lkOiBjdXJyZW50LmRhdGFzZXQueWFDaWRcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHBvcnRlZCBmcm9tIGh0dHBzOi8vYXNzZXRzLnNpdGVzY2RuLm5ldC95dGFnL3l0YWcubWluLmpzXG4gIGNvbnZlcnNpb25VUkwoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9nZXRUcmFja2VyVXJsKGNvbnZlcnNpb25Eb21haW4sIGNvbnZlcnNpb25FbmRwb2ludCwgZGF0YSk7XG4gIH1cblxuICBzZWVkKCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpICsgTWF0aC5mbG9vcigxMDAwICogTWF0aC5yYW5kb20oKSk7XG4gIH1cblxuICBmaXJlKHBpeGVsLCBjYikge1xuICAgIGlmICghdGhpcy5sb2FkZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQXR0ZW1wdGVkIHRvIG9ic2VydmUgZmlyZSAke3BpeGVsfSBvbiAke2V2ZW50LnR5cGV9IGJlZm9yZSBpbml0aWFsaXppbmcgWWV4dC5BbmFseXRpY3MuU2l0ZURhdGFgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBweCA9IHRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIHB4LnNyYyA9IHBpeGVsO1xuICAgIHB4LnN0eWxlLndpZHRoID0gJzAnO1xuICAgIHB4LnN0eWxlLmhlaWdodCA9ICcwJztcbiAgICBweC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgcHguYWx0ID0gJyc7XG5cbiAgICBpZiAoY2IpIHtcbiAgICAgIC8vIFRoZSBjYWxsYmFjayBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgaW52b2tlZCBhZnRlciB0aGUgcGl4ZWwgaGFzIHN1Y2Nlc3NmdWxseVxuICAgICAgLy8gZmlyZWQgYW5kIHdlJ3JlIGNvbmZpZGVudCB0aGUgdHJhY2tpbmcgc2VydmVyIGhhcyByZWNlaXZlZCB0aGUgcmVxdWVzdC4gIFRoZSBtb3N0IGNvbW1vblxuICAgICAgLy8gdXNlIG9mIHRoZSBjYWxsYmFjayBpcyB0byBuYXZpZ2F0ZSB0aGUgdXNlciBhZ2VudCBhd2F5IGZyb20gdGhlIGN1cnJlbnQgZG9tYWluIC0gc2F5LCBhIGNsaWNrXG4gICAgICAvLyBvbiBhbiBhbmNob3IgdGFnIHdpdGggYW4gb2ZmLWRvbWFpbiBocmVmLiAgSW4gdGhvc2Ugc2l0dWF0aW9ucywgd2Ugd2FudCB0byAnZGVsYXknIHRoZVxuICAgICAgLy8gYWN0dWFsIGJyb3dzZXIgbmF2aWdhdGlvbiBiZWNhdXNlIHRoZSBhY3Qgb2YgbW92aW5nIHRvIGFub3RoZXIgZG9tYWluIHdpbGwgY2F1c2Ugc29tZVxuICAgICAgLy8gdXNlciBhZ2VudHMgdG8gY2FuY2VsIGFsbCBpbi1mbGlnaHQgbmV0d29yayByZXF1ZXN0cyB0aGF0IHRoZSBjdXJyZW50IHBhZ2Ugb3JpZ2luYXRlZCxcbiAgICAgIC8vIGluY2x1ZGluZyBhbiBpbWFnZSBsb2FkIGxpa2UgdGhlIG9uZSB3ZSB1c2UgaGVyZSBmb3IgYW5hbHl0aWNzIHRyYW5zcG9ydC5cbiAgICAgIC8vXG4gICAgICAvLyBUaGF0IHNhaWQsIGl0J3MgY3JpdGljYWwgdGhhdCB0aGUgY2FsbGJhY2sgaXMgX2V2ZW50dWFsbHlfIGludm9rZWQgc2luY2UgaXQgcmVwcmVzZW50c1xuICAgICAgLy8gcHJlc2VydmF0aW9uIG9mIHRoZSB1c2VyJ3MgaW50ZW50ICh0byBuYXZpZ2F0ZSBhd2F5KS4gIGBvbmxvYWRgIGFuZCBgb25lcnJvcmAgcHJvdmlkZVxuICAgICAgLy8gbW9zdCBvZiB0aGUgY292ZXJhZ2Ugd2UgbmVlZCAtIHRoZSBtYWpvcml0eSBvZiB0aGUgdGltZSB0aGUgcGl4ZWwgc2hvdWxkIGxvYWQgaW4gPCAxMDBtcyxcbiAgICAgIC8vIGFuZCBpbiB0aGUgdW5saWtlbHkgc2NlbmFyaW8gdGhlIHBpeGVsIHNlcnZlciB3YXMgdW5hdmFpbGFibGUgdGhlIGVycm9yIHNob3VsZCBoYXBwZW5cbiAgICAgIC8vIHF1aWNrbHkuICBIb3dldmVyLCB0aGVyZSBhcmUgc2l0dWF0aW9ucyBpbiB3aGljaCB0aGUgdXNlci1hZ2VudCBjb3VsZCBjb25uZWN0IHRvIHRoZVxuICAgICAgLy8gcGl4ZWwgc2VydmVyIGJ1dCBsaXN0ZW4gaW5kZWZpbml0ZWx5IGZvciBhIHJlc3BvbnNlIC0gaGlnaCBsb2FkIG9yIHN0dWNrIHRocmVhZHMsIGZvclxuICAgICAgLy8gZXhhbXBsZS4gIFRoZSBzZXRUaW1lb3V0KCksIHRoZXJlZm9yY2UsIGFjdHMgYXMgYW4gYWJzb2x1dGUgZmFpbHNhZmUuXG4gICAgICAvL1xuICAgICAgLy8gVGhlIG9uY2Ugd3JhcHBlciBlbnN1cmVzIHRoYXQgdGhlIGNiIGZ1bmN0aW9uIGlzIG9ubHkgaW52b2tlZCBhIHNpbmdsZSB0aW1lLlxuICAgICAgY29uc3Qgb25jZUNCID0gdGhpcy5vbmNlKGNiKTtcbiAgICAgIHB4Lm9ubG9hZCA9IG9uY2VDQjtcbiAgICAgIHB4Lm9uZXJyb3IgPSBvbmNlQ0I7XG4gICAgICBzZXRUaW1lb3V0KG9uY2VDQiwgMTAwMCk7XG4gICAgfVxuXG4gICAgdGhpcy5kb20uYm9keS5hcHBlbmRDaGlsZChweCk7XG4gIH1cblxuICBmaXJlV2l0aEV2ZW50KHBpeGVsLCBldmVudCkge1xuICAgIGlmICh0aGlzLmRlbGF5TmF2aWdhdGlvbikge1xuICAgICAgTmF2aWdhdGVBZnRlckFjdGlvbklmTmVlZGVkKFxuICAgICAgICBkb25lID0+IHRoaXMuZmlyZShwaXhlbCwgZG9uZSksXG4gICAgICAgIGV2ZW50XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZpcmUocGl4ZWwpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNvbnZlcnNpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5nZXRDb252ZXJzaW9uUGFyYW1zKGV2ZW50LnRhcmdldCk7XG4gICAgICBpZiAoIXBhcmFtcykgeyByZXR1cm4gcmVzb2x2ZSgpOyB9XG5cbiAgICAgIE9iamVjdC5hc3NpZ24ocGFyYW1zLCB7XG4gICAgICAgIHY6IERhdGUubm93KCkgKyBNYXRoLmZsb29yKDFFMyAqIE1hdGgucmFuZG9tKCkpXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdXJsID0gdGhpcy5jb252ZXJzaW9uVVJMKHBhcmFtcyk7XG5cbiAgICAgIHRoaXMuZmlyZSh1cmwsIHJlc29sdmUpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIGluIFNlbGVjdG9yVHJhY2tpbmcpIHtcbiAgICAgIGlmIChTZWxlY3RvclRyYWNraW5nLmhhc093blByb3BlcnR5KHNlbGVjdG9yKSkge1xuICAgICAgICBpZiAoU2VhcmNoRWxlbWVudEZvclNlbGVjdG9yKGV2ZW50LnRhcmdldCwgc2VsZWN0b3IpKSB7XG4gICAgICAgICAgdGhpcy5maXJlV2l0aEV2ZW50KHRoaXMucGl4ZWxVUkwoeyBldmVudFR5cGU6IFNlbGVjdG9yVHJhY2tpbmdbc2VsZWN0b3JdIH0pLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuOyAvLyBwcmV2ZW50IGRvdWJsZSBjb3VudGluZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnROYW1lID0gdGhpcy5DYWxjRXZlbnROYW1lRm9yRWxlbWVudChldmVudC50YXJnZXQpO1xuICAgIGlmICghZXZlbnROYW1lKSByZXR1cm47IC8vIGNvdWxkIG5vdCB0cmFja1xuXG4gICAgaWYgKHRoaXMuY29udmVyc2lvblRyYWNraW5nRW5hYmxlZCkge1xuICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDb252ZXJzaW9uKGV2ZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLmZpcmVXaXRoRXZlbnQodGhpcy5waXhlbFVSTCh7IGV2ZW50VHlwZTogZXZlbnROYW1lIH0pLCBldmVudCk7XG4gIH1cblxuICBkb05vdFRyYWNrRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy53aW4uZG9Ob3RUcmFjayA9PSAnMSdcbiAgICAgIHx8IHRoaXMud2luLm5hdmlnYXRvci5kb05vdFRyYWNrID09ICd5ZXMnXG4gICAgICB8fCB0aGlzLndpbi5uYXZpZ2F0b3IuZG9Ob3RUcmFjayA9PSAnMSdcbiAgICAgIHx8IHRoaXMud2luLm5hdmlnYXRvci5tc0RvTm90VHJhY2sgPT0gJzEnO1xuICB9XG59XG5cbmV4cG9ydCB7XG4gIEFuYWx5dGljc1xufTtcbiIsImltcG9ydCB7IEFuYWx5dGljcyB9IGZyb20gJy4vYW5hbHl0aWNzL0FuYWx5dGljcy5qcyc7XG5cbm5ldyBBbmFseXRpY3MoKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufSIsImZ1bmN0aW9uIERlbGF5TmF2aWdhdGlvbihhY3Rpb24sIGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCkge1xuICAgICAgYWN0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBlbCA9IGV2ZW50LnNyY0VsZW1lbnQgfHwgZXZlbnQudGFyZ2V0O1xuICBcbiAgICAvKiBMb29wIHVwIHRoZSBET00gdHJlZSB0aHJvdWdoIHBhcmVudCBlbGVtZW50cyBpZiBjbGlja2VkIGVsZW1lbnQgaXMgbm90IGEgbGluayAoZWc6IGFuIGltYWdlIGluc2lkZSBhIGxpbmspICovXG4gICAgd2hpbGUgKGVsICYmXG4gICAgKHR5cGVvZiBlbC50YWdOYW1lID09ICd1bmRlZmluZWQnIHx8IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPSAnYScgfHxcbiAgICAgICFlbC5ocmVmKSkge1xuICAgICAgZWwgPSBlbC5wYXJlbnROb2RlO1xuICAgIH1cbiAgXG4gICAgbGV0IHdpbGxGaXJlID0gZmFsc2U7XG4gICAgY29uc3QgcmlnaHRDbGljayA9IGV2ZW50LndoaWNoID09PSAzO1xuICBcbiAgICAvKiBpZiBhIGxpbmsgd2l0aCB2YWxpZCBocmVmIGhhcyBiZWVuIGNsaWNrZWQgKi9cbiAgICBpZiAoZWwgJiYgZWwuaHJlZiAmJiBlbC5kYXRhc2V0LnlhTm9XYWl0ICE9PSAndHJ1ZScgJiYgIXJpZ2h0Q2xpY2sgICYmICFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICBjb25zdCBsaW5rID0gZWwuaHJlZjtcbiAgXG4gICAgICAvKiBPbmx5IGlmIGl0IGlzIGFuIGV4dGVybmFsIGxpbmsgKi9cbiAgICAgIGlmIChcbiAgICAgICAgbGluay5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID09IC0xICYmXG4gICAgICAgICEoZWwucHJvdG9jb2wgPT0gJ21haWx0bzonIHx8IGVsLnByb3RvY29sID09ICd0ZWw6JyB8fFxuICAgICAgICAgIGVsLnByb3RvY29sID09ICdqYXZhc2NyaXB0OicpXG4gICAgICApIHtcbiAgICAgICAgLyogSXMgYWN0dWFsIHRhcmdldCBzZXQgYW5kIG5vdCBfKHNlbGZ8cGFyZW50fHRvcCk/ICovXG4gICAgICAgIGxldCB0YXJnZXQgPSBlbC50YXJnZXQgJiYgIWVsLnRhcmdldC5tYXRjaCgvXl8oc2VsZnxwYXJlbnR8dG9wKSQvaSlcbiAgICAgICAgICA/IGVsLnRhcmdldFxuICAgICAgICAgIDogZmFsc2U7XG4gIFxuICAgICAgICAvKiBBc3N1bWUgYSB0YXJnZXQgaWYgQ3RybHxzaGlmdHxtZXRhLWNsaWNrICovXG4gICAgICAgIGlmIChcbiAgICAgICAgICBldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQud2hpY2ggPT0gMlxuICAgICAgICApIHtcbiAgICAgICAgICB0YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgfVxuICBcbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICB3aWxsRmlyZSA9IHRydWU7XG4gIFxuICAgICAgICAgIGxldCBoYnJ1biA9IGZhbHNlO1xuICAgICAgICAgIC8vIHRyYWNrZXIgaGFzIG5vdCB5ZXQgcnVuXG4gICAgICAgICAgLyogSGl0Q2FsbGJhY2sgdG8gb3BlbiBsaW5rIGluIHNhbWUgd2luZG93IGFmdGVyIHRyYWNrZXIgKi9cbiAgICAgICAgICBjb25zdCBoaXRCYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvKiBydW4gb25jZSBvbmx5ICovXG4gICAgICAgICAgICBpZiAoaGJydW4pXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGhicnVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbGluaztcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8qIFByZXZlbnQgc3RhbmRhcmQgY2xpY2ssIHRyYWNrIHRoZW4gb3BlbiAqL1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0XG4gICAgICAgICAgICA/IGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIDogZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAvKiBzZW5kIGV2ZW50IHdpdGggY2FsbGJhY2sgKi9cbiAgICAgICAgICBhY3Rpb24oaGl0QmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIGlmICghd2lsbEZpcmUpXG4gICAgICBhY3Rpb24oKTtcbiAgfVxuICBcbiAgZXhwb3J0IHtcbiAgICBEZWxheU5hdmlnYXRpb25cbiAgfTtcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ==